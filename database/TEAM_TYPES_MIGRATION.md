# å›¢é˜Ÿç±»å‹æ•°æ®è¿ç§»æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬è¿ç§»å°†å›¢é˜Ÿç±»å‹æ•°æ®ä»ç¡¬ç¼–ç å®ç°è¿ç§»åˆ°æ•°æ®åº“è¡¨ä¸­ï¼Œå®ç°çœŸæ­£çš„æ•°æ®æŒä¹…åŒ–ã€‚

## ğŸ¯ è¿ç§»å†…å®¹

### 1. æ•°æ®åº“è¡¨ç»“æ„
- **è¡¨å**: `team_types`
- **ä¸»è¦å­—æ®µ**:
  - `id`: å›¢é˜Ÿç±»å‹IDï¼ˆä¸»é”®ï¼‰
  - `name`: å›¢é˜Ÿç±»å‹åç§°
  - `description`: æè¿°
  - `is_default`: æ˜¯å¦ä¸ºç³»ç»Ÿé»˜è®¤ç±»å‹
  - `sort_order`: æ’åºé¡ºåº
  - `is_active`: æ˜¯å¦å¯ç”¨

### 2. é»˜è®¤æ•°æ®
è¿ç§»å°†åˆ›å»ºä»¥ä¸‹8ä¸ªé»˜è®¤å›¢é˜Ÿç±»å‹ï¼š
- é€šç”¨å›¢é˜Ÿ (general)
- å¼€å‘å›¢é˜Ÿ (development)
- æµ‹è¯•å›¢é˜Ÿ (testing)
- è®¾è®¡å›¢é˜Ÿ (design)
- å¸‚åœºå›¢é˜Ÿ (marketing)
- è¿è¥å›¢é˜Ÿ (operation)
- ç ”å‘å›¢é˜Ÿ (research)
- æ”¯æŒå›¢é˜Ÿ (support)

## ğŸš€ æ‰§è¡Œè¿ç§»

### æ–¹æ³•1ï¼šä½¿ç”¨æ‰¹å¤„ç†è„šæœ¬ï¼ˆæ¨èï¼‰
```bash
cd database
run-team-types-migration.bat
```

### æ–¹æ³•2ï¼šç›´æ¥æ‰§è¡ŒSQL
```bash
mysql -u your_username -p your_database < create-team-types-table.sql
```

### æ–¹æ³•3ï¼šä½¿ç”¨Node.jsè„šæœ¬
```bash
cd database
node migrate-team-types.js
```

## âœ… éªŒè¯è¿ç§»

### 1. æ£€æŸ¥æ•°æ®åº“è¡¨
```sql
-- æŸ¥çœ‹è¡¨ç»“æ„
DESCRIBE team_types;

-- æŸ¥çœ‹æ•°æ®
SELECT * FROM team_types ORDER BY sort_order;
```

### 2. æµ‹è¯•APIæ¥å£
```bash
# è·å–å›¢é˜Ÿç±»å‹åˆ—è¡¨
curl -H "Authorization: Bearer YOUR_TOKEN" http://localhost:3458/api/teams/types

# åˆ›å»ºæ–°å›¢é˜Ÿç±»å‹
curl -X POST -H "Content-Type: application/json" -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{"id":"custom","name":"è‡ªå®šä¹‰å›¢é˜Ÿ","description":"æµ‹è¯•ç”¨è‡ªå®šä¹‰å›¢é˜Ÿç±»å‹"}' \
  http://localhost:3458/api/teams/types
```

### 3. æµ‹è¯•å‰ç«¯åŠŸèƒ½
1. è®¿é—®å›¢é˜Ÿç±»å‹ç®¡ç†é¡µé¢
2. éªŒè¯åˆ—è¡¨æ˜¾ç¤ºæ­£å¸¸
3. æµ‹è¯•æ–°å¢åŠŸèƒ½
4. æµ‹è¯•åˆ é™¤åŠŸèƒ½
5. é‡å¯æœåŠ¡åéªŒè¯æ•°æ®æŒä¹…åŒ–

## ğŸ”§ è¿ç§»åçš„å˜åŒ–

### âœ… æ–°å¢åŠŸèƒ½
- **çœŸæ­£çš„æ•°æ®æŒä¹…åŒ–**: æ–°å¢/åˆ é™¤æ“ä½œä¼šä¿å­˜åˆ°æ•°æ®åº“
- **æ•°æ®éªŒè¯**: æ›´ä¸¥æ ¼çš„æ•°æ®éªŒè¯å’Œçº¦æŸ
- **å…³è”æŸ¥è¯¢**: æ”¯æŒä¸å›¢é˜Ÿè¡¨çš„å…³è”æŸ¥è¯¢
- **æ‰©å±•æ€§**: å¯ä»¥è½»æ¾æ·»åŠ æ–°å­—æ®µå’ŒåŠŸèƒ½

### ğŸ”„ APIå˜åŒ–
- **è·å–åˆ—è¡¨**: ä»æ•°æ®åº“è¯»å–ï¼Œæ”¯æŒæ’åº
- **æ–°å¢ç±»å‹**: çœŸæ­£ä¿å­˜åˆ°æ•°æ®åº“ï¼Œæ”¯æŒé‡å¤æ£€æŸ¥
- **åˆ é™¤ç±»å‹**: çœŸæ­£ä»æ•°æ®åº“åˆ é™¤ï¼Œæ”¯æŒä½¿ç”¨æ£€æŸ¥
- **é”™è¯¯å¤„ç†**: æ›´è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’ŒçŠ¶æ€ç 

### ğŸ“Š æ•°æ®æ¨¡å‹
```javascript
// æ–°çš„æ•°æ®æ¨¡å‹
const TeamType = {
  id: 'string',           // ç±»å‹ID
  name: 'string',         // ç±»å‹åç§°
  description: 'text',    // æè¿°
  is_default: 'boolean',  // æ˜¯å¦é»˜è®¤ç±»å‹
  sort_order: 'integer',  // æ’åº
  is_active: 'boolean',   // æ˜¯å¦å¯ç”¨
  created_at: 'datetime', // åˆ›å»ºæ—¶é—´
  updated_at: 'datetime'  // æ›´æ–°æ—¶é—´
}
```

## ğŸš¨ æ³¨æ„äº‹é¡¹

### 1. å¤‡ä»½æ•°æ®
è¿ç§»å‰å»ºè®®å¤‡ä»½ç°æœ‰æ•°æ®åº“

### 2. æœåŠ¡é‡å¯
è¿ç§»å®Œæˆåéœ€è¦é‡å¯åç«¯æœåŠ¡ä»¥åŠ è½½æ–°çš„æ¨¡å‹

### 3. æƒé™æ£€æŸ¥
ç¡®ä¿æ‰§è¡Œè¿ç§»çš„ç”¨æˆ·æœ‰æ•°æ®åº“åˆ›å»ºè¡¨çš„æƒé™

### 4. ä¾èµ–å…³ç³»
å¦‚æœæœ‰ç°æœ‰å›¢é˜Ÿæ•°æ®ï¼Œç¡®ä¿team_typeå­—æ®µçš„å€¼åœ¨æ–°è¡¨ä¸­å­˜åœ¨

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æ•°æ®åº“è¿æ¥å¤±è´¥
```
Error: connect ECONNREFUSED 127.0.0.1:3306
```
**è§£å†³æ–¹æ¡ˆ**: æ£€æŸ¥æ•°æ®åº“æœåŠ¡æ˜¯å¦å¯åŠ¨ï¼Œè¿æ¥é…ç½®æ˜¯å¦æ­£ç¡®

#### 2. æƒé™ä¸è¶³
```
Error: Access denied for user
```
**è§£å†³æ–¹æ¡ˆ**: ç¡®ä¿æ•°æ®åº“ç”¨æˆ·æœ‰CREATEã€INSERTæƒé™

#### 3. è¡¨å·²å­˜åœ¨
```
Error: Table 'team_types' already exists
```
**è§£å†³æ–¹æ¡ˆ**: è¿™æ˜¯æ­£å¸¸æƒ…å†µï¼Œè„šæœ¬ä¼šè·³è¿‡è¡¨åˆ›å»ºï¼Œåªæ’å…¥æ•°æ®

#### 4. æ¨¡å‹åŠ è½½å¤±è´¥
```
Error: Cannot find module '../backend/src/models'
```
**è§£å†³æ–¹æ¡ˆ**: ç¡®ä¿åœ¨æ­£ç¡®çš„ç›®å½•ä¸‹æ‰§è¡Œè„šæœ¬

## ğŸ“ˆ åç»­ä¼˜åŒ–

### 1. çŸ­æœŸä¼˜åŒ–
- [ ] æ·»åŠ å›¢é˜Ÿç±»å‹ä½¿ç”¨ç»Ÿè®¡
- [ ] æ”¯æŒæ‰¹é‡æ“ä½œ
- [ ] æ·»åŠ è½¯åˆ é™¤åŠŸèƒ½

### 2. é•¿æœŸè§„åˆ’
- [ ] å›¢é˜Ÿç±»å‹æƒé™ç®¡ç†
- [ ] è‡ªå®šä¹‰å­—æ®µæ”¯æŒ
- [ ] å›¢é˜Ÿç±»å‹æ¨¡æ¿åŠŸèƒ½

## ğŸ“ æ”¯æŒ

å¦‚æœåœ¨è¿ç§»è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æ£€æŸ¥é”™è¯¯æ—¥å¿—
2. éªŒè¯æ•°æ®åº“è¿æ¥
3. ç¡®è®¤æƒé™è®¾ç½®
4. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„æ•…éšœæ’é™¤éƒ¨åˆ†

---

**è¿ç§»å®Œæˆåï¼Œå›¢é˜Ÿç±»å‹ç®¡ç†åŠŸèƒ½å°†å…·å¤‡å®Œæ•´çš„æ•°æ®æŒä¹…åŒ–èƒ½åŠ›ï¼**