{"version":3,"file":"team.js","sources":["pages/team/team.vue","../../../HBuilderX.4.56.2025031210/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdGVhbS90ZWFtLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"team-container\">\r\n\t\t<!-- 页面头部 -->\r\n\t\t<view class=\"header\">\r\n\t\t\t<view class=\"title-section\">\r\n\t\t\t\t<text class=\"page-title\">全部团队</text>\r\n\t\t\t\t<text class=\"page-subtitle\">浏览所有可加入的团队</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"header-actions\">\r\n\t\t\t\t<button class=\"browse-btn\" @tap=\"browseTeams\">\r\n\t\t\t\t\t<text class=\"browse-icon\">🔍</text>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button class=\"add-btn\" @tap=\"showCreateModal\">\r\n\t\t\t\t\t<text class=\"add-icon\">+</text>\r\n\t\t\t\t</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 群组列表 -->\r\n\t\t<view class=\"group-list\" v-if=\"groups.length > 0\">\r\n\t\t\t<view \r\n\t\t\t\tclass=\"group-item card\" \r\n\t\t\t\tv-for=\"group in groups\" \r\n\t\t\t\t:key=\"group.id\"\r\n\t\t\t\t@tap=\"viewGroup(group)\"\r\n\t\t\t>\r\n\t\t\t\t<view class=\"group-header\">\r\n\t\t\t\t\t<view class=\"group-avatar\">\r\n\t\t\t\t\t\t{{ group.name.charAt(0) }}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"group-info\">\r\n\t\t\t\t\t\t<text class=\"group-name\">{{ group.name }}</text>\r\n\t\t\t\t\t\t<view class=\"group-meta\">\r\n\t\t\t\t\t\t\t<text class=\"member-count\">👥 {{ group.member_count }} 成员</text>\r\n\t\t\t\t\t\t\t<text class=\"role-badge\" :class=\"getUserRole(group)\">\r\n\t\t\t\t\t\t\t\t<text class=\"role-icon\" v-if=\"getUserRole(group) === 'admin'\">👑</text>\r\n\t\t\t\t\t\t\t\t{{ getUserRole(group) === 'admin' ? '负责人' : getUserRole(group) === 'member' ? '成员' : '未加入' }}\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"group-actions\" v-if=\"getUserRole(group) === 'admin'\">\r\n\t\t\t\t\t\t<text class=\"action-btn\">⚙️</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"group-description\" v-if=\"group.description\">\r\n\t\t\t\t\t{{ group.description }}\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"group-footer\">\r\n\t\t\t\t\t<text class=\"join-date\">\r\n\t\t\t\t\t\t创建时间: {{ formatDate(group.created_at, 'YYYY-MM-DD') }}\r\n\t\t\t\t\t</text>\r\n\t\t\t\t\t<button \r\n\t\t\t\t\t\tclass=\"btn btn-outline small\" \r\n\t\t\t\t\t\t@tap.stop=\"joinOrViewGroup(group)\"\r\n\t\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t\t'btn-primary': getUserRole(group) === 'none',\r\n\t\t\t\t\t\t\t'btn-secondary': getUserRole(group) === 'member' || getUserRole(group) === 'admin'\r\n\t\t\t\t\t\t}\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{ getGroupActionButtonText(group) }}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 空状态 -->\r\n\t\t<view class=\"empty-state\" v-else-if=\"!loading\">\r\n\t\t\t<text class=\"empty-icon\">👥</text>\r\n\t\t\t<text class=\"empty-title\">暂无团队</text>\r\n\t\t\t<text class=\"empty-subtitle\">还没有创建任何团队，创建一个团队开始组织活动吧！</text>\r\n\t\t\t<button class=\"btn btn-primary\" @tap=\"showCreateModal\">创建第一个团队</button>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 加载状态 -->\r\n\t\t<view class=\"loading-state\" v-if=\"loading\">\r\n\t\t\t<text>加载中...</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 创建团队弹窗 -->\r\n\t\t<view class=\"modal-overlay\" v-if=\"showModal\" @tap=\"hideModal\">\r\n\t\t\t<view class=\"modal-content\" @tap.stop>\r\n\t\t\t\t<view class=\"modal-header\">\r\n\t\t\t\t\t<text class=\"modal-title\">创建团队</text>\r\n\t\t\t\t\t<text class=\"modal-close\" @tap=\"hideModal\">×</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"modal-body\">\r\n\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t<text class=\"label\">团队名称 <text class=\"required\">*</text></text>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\"input\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"输入团队名称（2-50个字符）\"\r\n\t\t\t\t\t\t\tv-model=\"groupForm.name\"\r\n\t\t\t\t\t\t\t:maxlength=\"50\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t<text class=\"label\">团队类型</text>\r\n\t\t\t\t\t\t<picker \r\n\t\t\t\t\t\t\t:range=\"teamTypes\" \r\n\t\t\t\t\t\t\t:range-key=\"'label'\"\r\n\t\t\t\t\t\t\t:value=\"teamTypeIndex\"\r\n\t\t\t\t\t\t\t@change=\"onTeamTypeChange\"\r\n\t\t\t\t\t\t\tclass=\"picker\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<view class=\"picker-display\">\r\n\t\t\t\t\t\t\t\t{{ getSelectedTeamTypeName() }}\r\n\t\t\t\t\t\t\t\t<text class=\"picker-arrow\">▼</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t<text class=\"label\">团队描述</text>\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\tclass=\"textarea\"\r\n\t\t\t\t\t\t\tplaceholder=\"描述一下这个团队的用途（可选，最多500字符）\"\r\n\t\t\t\t\t\t\tv-model=\"groupForm.description\"\r\n\t\t\t\t\t\t\t:maxlength=\"500\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t<text class=\"label\">团队头像</text>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\"input\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"输入头像URL（可选）\"\r\n\t\t\t\t\t\t\tv-model=\"groupForm.avatar_url\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<text class=\"form-hint\">可以输入图片链接作为团队头像</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"modal-footer\">\r\n\t\t\t\t\t<button class=\"btn btn-secondary\" @tap=\"hideModal\">取消</button>\r\n\t\t\t\t\t<button class=\"btn btn-primary\" @tap=\"createGroup\" :disabled=\"saving\">\r\n\t\t\t\t\t\t{{ saving ? '创建中...' : '创建' }}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 团队详情弹窗 -->\r\n\t\t<view class=\"modal-overlay\" v-if=\"showDetailModal\" @tap=\"hideDetailModal\">\r\n\t\t\t<view class=\"modal-content\" @tap.stop>\r\n\t\t\t\t<view class=\"modal-header\">\r\n\t\t\t\t\t<text class=\"modal-title\">{{ selectedGroup?.name }}</text>\r\n\t\t\t\t\t<text class=\"modal-close\" @tap=\"hideDetailModal\">×</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"modal-body\" v-if=\"selectedGroup\">\r\n\t\t\t\t\t<view class=\"detail-section\">\r\n\t\t\t\t\t\t<text class=\"detail-label\">团队描述</text>\r\n\t\t\t\t\t\t<text class=\"detail-value\">{{ selectedGroup.description || '暂无描述' }}</text>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"detail-section\">\r\n\t\t\t\t\t\t<text class=\"detail-label\">成员（{{ selectedGroup.member_count }}）</text>\r\n\t\t\t\t\t\t<view class=\"members-preview\">\r\n\t\t\t\t\t\t\t<view class=\"member-list-preview\">\r\n\t\t\t\t\t\t\t\t<!-- 如果有成员预览数据，显示实际成员 -->\r\n\t\t\t\t\t\t\t\t<template v-if=\"selectedGroup.membersPreview && selectedGroup.membersPreview.length > 0\">\r\n\t\t\t\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\t\t\t\tv-for=\"(member, index) in selectedGroup.membersPreview\"\r\n\t\t\t\t\t\t\t\t\t\t:key=\"member.id\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"member-item\"\r\n\t\t\t\t\t\t\t\t\t\t:class=\"{ 'leader': member.is_leader }\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{{ member.is_leader ? '👑' : '👤' }} {{ member.nickname }}\r\n\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t<!-- 如果没有预览数据，显示默认信息 -->\r\n\t\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t\t<text class=\"member-item leader\" v-if=\"getUserRole(selectedGroup) === 'admin'\">\r\n\t\t\t\t\t\t\t\t\t\t👑 {{ selectedGroup.leader_name || '我' }}\r\n\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"member-item\" v-if=\"selectedGroup.member_count > 1\">\r\n\t\t\t\t\t\t\t\t\t\t👤 其他成员\r\n\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t\t\t<!-- 如果成员超过4个，显示省略号 -->\r\n\t\t\t\t\t\t\t\t<text v-if=\"selectedGroup.member_count > 4\" class=\"member-more\">...</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<text class=\"view-all-members\" @tap=\"viewTeamDetail(selectedGroup)\">查看全部成员</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"detail-section\">\r\n\t\t\t\t\t\t<text class=\"detail-label\">我的角色</text>\r\n\t\t\t\t\t\t<text class=\"detail-value\">\r\n\t\t\t\t\t\t\t<text v-if=\"getUserRole(selectedGroup) === 'admin'\">👑 负责人</text>\r\n\t\t\t\t\t\t\t<text v-else-if=\"getUserRole(selectedGroup) === 'member'\">👤 成员</text>\r\n\t\t\t\t\t\t\t<text v-else>🚫 未加入</text>\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"detail-section\">\r\n\t\t\t\t\t\t<text class=\"detail-label\">创建时间</text>\r\n\t\t\t\t\t\t<text class=\"detail-value\">{{ formatDate(selectedGroup.created_at, 'YYYY年MM月DD日') }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"modal-footer\">\r\n\t\t\t\t\t<view class=\"action-buttons\">\r\n\t\t\t\t\t\t<button class=\"action-btn\" @tap=\"viewTeamDetail(selectedGroup)\">\r\n\t\t\t\t\t\t\t团队详情\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button class=\"action-btn\" @tap=\"viewActivities(selectedGroup)\">\r\n\t\t\t\t\t\t\t团队活动\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"action-btn\"\r\n\t\t\t\t\t\t\t@tap=\"viewApplications(selectedGroup)\"\r\n\t\t\t\t\t\t\tv-if=\"getUserRole(selectedGroup) === 'admin'\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t处理申请\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 根据用户角色和申请状态显示不同的按钮 -->\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"btn btn-primary join-btn\"\r\n\t\t\t\t\t\t@tap=\"applyToJoinGroup(selectedGroup)\"\r\n\t\t\t\t\t\tv-if=\"canApplyToGroup(selectedGroup)\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t申请加入团队\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"btn btn-secondary\"\r\n\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\tv-if=\"isGroupApplied(selectedGroup)\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t已申请\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- 只有成员才显示退出按钮 -->\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"btn btn-danger exit-btn\"\r\n\t\t\t\t\t\t@tap=\"leaveGroup(selectedGroup)\"\r\n\t\t\t\t\t\tv-if=\"getUserRole(selectedGroup) === 'member'\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t退出团队\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { groupApi } from '../../api/index.js'\r\n\timport { formatDate, showSuccess, showError, showConfirm } from '../../utils/index.js'\r\n\t\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tgroups: [],\r\n\t\t\t\tteamTypes: [\r\n\t\t\t\t\t{ value: 'general', label: '通用团队' }\r\n\t\t\t\t], // 团队类型列表，初始化默认值\r\n\t\t\t\tloading: false,\r\n\t\t\t\tshowModal: false,\r\n\t\t\t\tshowDetailModal: false,\r\n\t\t\t\tsaving: false,\r\n\t\t\t\tselectedGroup: null,\r\n\t\t\t\tgroupForm: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tteam_type: 'general',\r\n\t\t\t\t\tavatar_url: ''\r\n\t\t\t\t},\r\n\t\t\t\t// 添加用户团队关系数据\r\n\t\t\t\tuserTeams: [],\r\n\t\t\t\t// 添加用户申请状态数据\r\n\t\t\t\tuserApplications: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// 计算团队类型选择器的索引\r\n\t\t\tteamTypeIndex() {\r\n\t\t\t\tif (!this.teamTypes || this.teamTypes.length === 0) {\r\n\t\t\t\t\treturn 0\r\n\t\t\t\t}\r\n\t\t\t\tconst index = this.teamTypes.findIndex(t => t.value === this.groupForm.team_type)\r\n\t\t\t\treturn index >= 0 ? index : 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.loadInitialData()\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.loadInitialData()\r\n\t\t},\r\n\t\tonPullDownRefresh() {\r\n\t\t\tthis.fetchGroups().finally(() => {\r\n\t\t\t\tuni.stopPullDownRefresh()\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatDate,\r\n\t\t\t\r\n\t\t\t// 加载初始数据\r\n\t\t\tasync loadInitialData() {\r\n\t\t\t\tawait Promise.all([\r\n\t\t\t\t\tthis.fetchGroups(),\r\n\t\t\t\t\tthis.loadTeamTypes(),\r\n\t\t\t\t\tthis.loadUserTeams(),\r\n\t\t\t\t\tthis.loadUserApplications() // 加载用户申请记录\r\n\t\t\t\t])\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 加载用户申请记录\r\n\t\t\tasync loadUserApplications() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await groupApi.getMyApplications()\r\n\t\t\t\t\tif (response.success) {\r\n\t\t\t\t\t\tthis.userApplications = response.data.applications || []\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('加载用户申请记录失败:', error)\r\n\t\t\t\t\tthis.userApplications = []\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 加载用户已加入的团队\r\n\t\t\tasync loadUserTeams() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await groupApi.getMyTeams()\r\n\t\t\t\t\tif (response.success) {\r\n\t\t\t\t\t\tconst teams = response.data.teams || response.data || []\r\n\t\t\t\t\t\tthis.userTeams = Array.isArray(teams) ? teams : []\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('加载用户团队失败:', error)\r\n\t\t\t\t\tthis.userTeams = []\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 加载团队类型\r\n\t\t\tasync loadTeamTypes() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 从后台API获取团队类型\r\n\t\t\t\t\tconst response = await groupApi.getTeamTypes()\r\n\t\t\t\t\tif (response.success) {\r\n\t\t\t\t\t\tthis.teamTypes = response.data || []\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('加载团队类型失败:', error)\r\n\t\t\t\t\t// 使用默认类型\r\n\t\t\t\t\tthis.teamTypes = [\r\n\t\t\t\t\t\t{ value: 'general', label: '通用团队' }\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取团队列表（全部团队）\r\n\t\t\tasync fetchGroups() {\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 调用全部团队API\r\n\t\t\t\t\tconst response = await groupApi.getList()\r\n\t\t\t\t\tif (response.success) {\r\n\t\t\t\t\t\tconst teams = response.data.teams || response.data || []\r\n\t\t\t\t\t\tthis.groups = Array.isArray(teams) ? teams : []\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tshowError('获取团队列表失败')\r\n\t\t\t\t\tconsole.error('获取团队列表失败:', error)\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取用户在团队中的角色\r\n\t\t\tgetUserRole(group) {\r\n\t\t\t\tconst userTeam = this.userTeams.find(t => t.id === group.id)\r\n\t\t\t\tif (userTeam) {\r\n\t\t\t\t\treturn userTeam.role || 'member'\r\n\t\t\t\t}\r\n\t\t\t\treturn 'none'\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 检查用户是否已申请加入团队\r\n\t\t\tisGroupApplied(group) {\r\n\t\t\t\treturn this.userApplications.some(app => \r\n\t\t\t\t\tapp.teamId === group.id && \r\n\t\t\t\t\tapp.status === 'pending'\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 检查用户是否可以申请加入团队\r\n\t\t\tcanApplyToGroup(group) {\r\n\t\t\t\tconst userRole = this.getUserRole(group)\r\n\t\t\t\t// 未加入且未申请的用户才可以申请\r\n\t\t\t\treturn userRole === 'none' && !this.isGroupApplied(group)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取团队卡片上的按钮文本\r\n\t\t\tgetGroupActionButtonText(group) {\r\n\t\t\t\tconst userRole = this.getUserRole(group)\r\n\t\t\t\tif (userRole === 'admin' || userRole === 'member') {\r\n\t\t\t\t\treturn '查看详情'\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (this.isGroupApplied(group)) {\r\n\t\t\t\t\treturn '已申请'\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn '加入团队'\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 根据用户角色决定点击行为\r\n\t\t\tjoinOrViewGroup(group) {\r\n\t\t\t\tconst userRole = this.getUserRole(group)\r\n\t\t\t\tif (userRole === 'none' && !this.isGroupApplied(group)) {\r\n\t\t\t\t\t// 未加入且未申请，直接申请加入团队\r\n\t\t\t\t\tthis.applyToJoinGroup(group)\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 已加入或已申请，查看详情\r\n\t\t\t\t\tthis.viewGroup(group)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 显示创建弹窗\r\n\t\t\tshowCreateModal() {\r\n\t\t\t\tthis.resetForm()\r\n\t\t\t\tthis.showModal = true\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 隐藏创建弹窗\r\n\t\t\thideModal() {\r\n\t\t\t\tthis.showModal = false\r\n\t\t\t\tthis.resetForm()\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 重置表单\r\n\t\t\tresetForm() {\r\n\t\t\t\tthis.groupForm = {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tteam_type: 'general',\r\n\t\t\t\t\tavatar_url: ''\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 创建团队\r\n\t\t\tasync createGroup() {\r\n\t\t\t\t// 表单验证\r\n\t\t\t\tif (!this.groupForm.name.trim()) {\r\n\t\t\t\t\tshowError('请输入团队名称')\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.groupForm.name.trim().length < 2) {\r\n\t\t\t\t\tshowError('团队名称至少2个字符')\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.groupForm.name.trim().length > 50) {\r\n\t\t\t\t\tshowError('团队名称不能超过50个字符')\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.groupForm.description && this.groupForm.description.length > 500) {\r\n\t\t\t\t\tshowError('团队描述不能超过500个字符')\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.saving = true\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst data = {\r\n\t\t\t\t\t\tname: this.groupForm.name.trim(),\r\n\t\t\t\t\t\tdescription: this.groupForm.description?.trim() || '',\r\n\t\t\t\t\t\tteam_type: this.groupForm.team_type || 'general',\r\n\t\t\t\t\t\tavatar_url: this.groupForm.avatar_url?.trim() || null\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst response = await groupApi.create(data)\r\n\t\t\t\t\tif (response.success) {\r\n\t\t\t\t\t\tshowSuccess('团队创建成功')\r\n\t\t\t\t\t\tthis.hideModal()\r\n\t\t\t\t\t\tthis.fetchGroups()\r\n\t\t\t\t\t\t// 重新加载用户团队列表\r\n\t\t\t\t\t\tthis.loadUserTeams()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow new Error(response.message || '创建失败')\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('创建团队失败:', error)\r\n\t\t\t\t\tshowError(error.message || '创建失败，请稍后重试')\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.saving = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 查看团队详情\r\n\t\t\tasync viewGroup(group) {\r\n\t\t\t\tthis.selectedGroup = group\r\n\t\t\t\t// 获取团队成员预览信息\r\n\t\t\t\tawait this.loadTeamMembersPreview(group.id)\r\n\t\t\t\tthis.showDetailModal = true\r\n\t\t\t},\r\n\r\n\t\t\t// 隐藏详情弹窗\r\n\t\t\thideDetailModal() {\r\n\t\t\t\tthis.showDetailModal = false\r\n\t\t\t\tthis.selectedGroup = null\r\n\t\t\t},\r\n\r\n\t\t\t// 查看团队活动\r\n\t\t\tviewActivities(group) {\r\n\t\t\t\tthis.hideDetailModal()\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: `/pages/activity/activity?groupId=${group.id}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 申请加入团队\r\n\t\t\tasync applyToJoinGroup(group) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await groupApi.apply(group.id, {\r\n\t\t\t\t\t\treason: '希望能够加入这个团队，参与团队活动和项目，与大家一起学习和成长。'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (response.success) {\r\n\t\t\t\t\t\tshowSuccess('申请已提交，请等待审核')\r\n\t\t\t\t\t\t// 更新本地申请状态\r\n\t\t\t\t\t\tthis.userApplications.push({\r\n\t\t\t\t\t\t\tid: response.data.id,\r\n\t\t\t\t\t\t\tteamId: group.id,\r\n\t\t\t\t\t\t\tstatus: 'pending',\r\n\t\t\t\t\t\t\tapplicationTime: response.data.applicationTime\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// 刷新团队列表以更新状态\r\n\t\t\t\t\t\tthis.loadInitialData()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow new Error(response.message || '申请失败')\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('申请加入团队失败:', error)\r\n\t\t\t\t\tshowError(error.message || '申请失败，请稍后重试')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 离开群组\r\n\t\t\tasync leaveGroup(group) {\r\n\t\t\t\tconst confirmed = await showConfirm(`确定要离开团队\"${group.name}\"吗？`)\r\n\t\t\t\tif (!confirmed) return\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait groupApi.leave(group.id)\r\n\t\t\t\t\tshowSuccess('已离开团队')\r\n\t\t\t\t\tthis.hideDetailModal()\r\n\t\t\t\t\t// 重新加载数据\r\n\t\t\t\t\tthis.loadInitialData()\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('离开团队失败:', error)\r\n\t\t\t\t\tshowError('离开团队失败，请稍后重试')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 浏览团队\r\n\t\t\tbrowseTeams() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/team-browse/team-browse'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 查看申请管理\r\n\t\t\tviewApplications(group) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/team-applications/team-applications?teamId=${group.id}&teamName=${encodeURIComponent(group.name)}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 查看团队详情和成员列表\r\n\t\t\tviewTeamDetail(group) {\r\n\t\t\t\tthis.hideDetailModal()\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/team-detail/team-detail?id=${group.id}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 加载团队成员预览（前4个成员）\r\n\t\t\tasync loadTeamMembersPreview(teamId) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 所有用户都可以获取成员列表\r\n\t\t\t\t\tconst response = await groupApi.getTeamMembers(teamId)\r\n\t\t\t\t\tif (response.success && response.data.members) {\r\n\t\t\t\t\t\t// 取前4个成员用于预览\r\n\t\t\t\t\t\tthis.selectedGroup.membersPreview = response.data.members.slice(0, 4)\r\n\t\t\t\t\t\tthis.selectedGroup.leader_name = response.data.members.find(m => m.is_leader)?.nickname || '负责人'\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log('获取成员预览失败:', error)\r\n\t\t\t\t\t// 如果获取失败，使用默认显示\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 团队类型选择相关方法\r\n\t\t\tonTeamTypeChange(e) {\r\n\t\t\t\tconst index = e.detail.value\r\n\t\t\t\tthis.groupForm.team_type = this.teamTypes[index].value\r\n\t\t\t},\r\n\r\n\t\t\tgetSelectedTeamTypeName() {\r\n\t\t\t\tif (!this.teamTypes || this.teamTypes.length === 0) {\r\n\t\t\t\t\treturn '通用团队'\r\n\t\t\t\t}\r\n\t\t\t\tconst type = this.teamTypes.find(t => t.value === this.groupForm.team_type)\r\n\t\t\t\treturn type ? type.label : '通用团队'\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.group-container {\r\n\t\tpadding: 20rpx;\r\n\t\tmin-height: 100vh;\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\t\r\n\t.header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tbackground: #ffffff;\r\n\t\tborder-radius: 16rpx;\r\n\t}\r\n\t\r\n\t.page-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t\tdisplay: block;\r\n\t}\r\n\t\r\n\t.page-subtitle {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #666;\r\n\t\tdisplay: block;\r\n\t\tmargin-top: 8rpx;\r\n\t}\r\n\t\r\n\t.header-actions {\r\n\t\tdisplay: flex;\r\n\t\tgap: 16rpx;\r\n\t}\r\n\r\n\t.browse-btn, .add-btn {\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tborder-radius: 40rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tborder: none;\r\n\t}\r\n\r\n\t.browse-btn {\r\n\t\tbackground: #34c759;\r\n\t}\r\n\r\n\t.add-btn {\r\n\t\tbackground: #007aff;\r\n\t}\r\n\t\r\n\t.browse-icon, .add-icon {\r\n\t\tcolor: #ffffff;\r\n\t\tfont-size: 40rpx;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t.group-item {\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tpadding: 24rpx;\r\n\t}\r\n\t\r\n\t.group-header {\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-start;\r\n\t\tmargin-bottom: 16rpx;\r\n\t}\r\n\t\r\n\t.group-avatar {\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tborder-radius: 40rpx;\r\n\t\tbackground: #007aff;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tcolor: #ffffff;\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\t\r\n\t.group-info {\r\n\t\tflex: 1;\r\n\t}\r\n\t\r\n\t.group-name {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 8rpx;\r\n\t\tline-height: 1.4;\r\n\t\tword-wrap: break-word;\r\n\t\tword-break: break-all;\r\n\t}\r\n\t\r\n\t.group-meta {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 16rpx;\r\n\t}\r\n\t\r\n\t.member-count {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #666;\r\n\t}\r\n\t\r\n\t.role-badge {\r\n\t\tfont-size: 20rpx;\r\n\t\tpadding: 4rpx 12rpx;\r\n\t\tborder-radius: 12rpx;\r\n\t\tcolor: #ffffff;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.role-badge.admin {\r\n\t\tbackground: linear-gradient(135deg, #ff6b6b, #ffa500);\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.role-badge.member {\r\n\t\tbackground: #007aff;\r\n\t}\r\n\r\n\t.role-icon {\r\n\t\tmargin-right: 4rpx;\r\n\t\tfont-size: 18rpx;\r\n\t}\r\n\t\r\n\t.group-actions {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t}\r\n\t\r\n\t.group-description {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t\tline-height: 1.5;\r\n\t\tmargin-bottom: 16rpx;\r\n\t\tword-wrap: break-word;\r\n\t\tword-break: break-all;\r\n\t\t/* 限制最多显示2行 */\r\n\t\tdisplay: -webkit-box;\r\n\t\t-webkit-line-clamp: 2;\r\n\t\t-webkit-box-orient: vertical;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t\r\n\t.group-footer {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding-top: 16rpx;\r\n\t\tborder-top: 2rpx solid #f0f0f0;\r\n\t}\r\n\t\r\n\t.join-date {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n\t\r\n\t.btn.small {\r\n\t\tpadding: 12rpx 24rpx;\r\n\t\tfont-size: 24rpx;\r\n\t\theight: auto;\r\n\t\tline-height: 1.2;\r\n\t}\r\n\t\r\n\t.empty-state {\r\n\t\ttext-align: center;\r\n\t\tpadding: 120rpx 40rpx;\r\n\t}\r\n\t\r\n\t.empty-icon {\r\n\t\tfont-size: 120rpx;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\t\r\n\t.empty-title {\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 16rpx;\r\n\t}\r\n\t\r\n\t.empty-subtitle {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 40rpx;\r\n\t}\r\n\t\r\n\t.loading-state {\r\n\t\ttext-align: center;\r\n\t\tpadding: 60rpx;\r\n\t\tcolor: #666;\r\n\t}\r\n\t\r\n\t.modal-overlay {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground: rgba(0, 0, 0, 0.5);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tz-index: 1000;\r\n\t}\r\n\t\r\n\t.modal-content {\r\n\t\twidth: 90%;\r\n\t\tmax-height: 80%;\r\n\t\tbackground: #ffffff;\r\n\t\tborder-radius: 16rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t\r\n\t.modal-header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 30rpx;\r\n\t\tborder-bottom: 2rpx solid #f0f0f0;\r\n\t}\r\n\t\r\n\t.modal-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t.modal-close {\r\n\t\tfont-size: 40rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n\t\r\n\t.modal-body {\r\n\t\tflex: 1;\r\n\t\tpadding: 30rpx;\r\n\t\toverflow-y: auto;\r\n\t}\r\n\t\r\n\t.form-item {\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\t\r\n\t.label {\r\n\t\tdisplay: block;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t\tmargin-bottom: 12rpx;\r\n\t}\r\n\r\n\t.required {\r\n\t\tcolor: #ff3b30;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.picker {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.picker-display {\r\n\t\twidth: 100%;\r\n\t\theight: 80rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tborder: 2rpx solid #e0e0e0;\r\n\t\tborder-radius: 8rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tline-height: 40rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\r\n\t.picker-arrow {\r\n\t\tcolor: #999;\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\r\n\t.form-hint {\r\n\t\tdisplay: block;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t\tmargin-top: 8rpx;\r\n\t\tline-height: 1.4;\r\n\t}\r\n\r\n\t.input {\r\n\t\twidth: 100%;\r\n\t\theight: 80rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tborder: 2rpx solid #e0e0e0;\r\n\t\tborder-radius: 8rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tline-height: 1.4;\r\n\t\ttext-align: left;\r\n\t}\r\n\r\n\t.input::placeholder {\r\n\t\tcolor: #999;\r\n\t\ttext-align: left;\r\n\t}\r\n\r\n\t.textarea {\r\n\t\twidth: 100%;\r\n\t\theight: 120rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tborder: 2rpx solid #e0e0e0;\r\n\t\tborder-radius: 8rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tresize: none;\r\n\t\tline-height: 1.4;\r\n\t}\r\n\r\n\t.textarea::placeholder {\r\n\t\tcolor: #999;\r\n\t}\r\n\t\r\n\t.detail-section {\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\t\r\n\t.detail-label {\r\n\t\tdisplay: block;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 8rpx;\r\n\t}\r\n\t\r\n\t.detail-value {\r\n\t\tdisplay: block;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.members-preview {\r\n\t\tmargin-top: 16rpx;\r\n\t}\r\n\r\n\t.member-list-preview {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tgap: 12rpx;\r\n\t\tmargin-bottom: 16rpx;\r\n\t\tmax-height: 80rpx; /* 限制为两行 */\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.member-item {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #666;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tpadding: 6rpx 12rpx;\r\n\t\tborder-radius: 12rpx;\r\n\t}\r\n\r\n\t.member-item.leader {\r\n\t\tbackground-color: #fff3cd;\r\n\t\tcolor: #856404;\r\n\t\tfont-weight: 500;\r\n\t}\r\n\r\n\t.member-more {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t\tpadding: 6rpx 12rpx;\r\n\t}\r\n\r\n\t.view-all-members {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #007aff;\r\n\t\ttext-decoration: underline;\r\n\t}\r\n\r\n\t.action-buttons {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tgap: 20rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.action-btn {\r\n\t\tflex: 1;\r\n\t\theight: 80rpx;\r\n\t\tbackground-color: #f8f9fa;\r\n\t\tborder: 2rpx solid #e9ecef;\r\n\t\tborder-radius: 12rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #495057;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.action-btn:active {\r\n\t\tbackground-color: #e9ecef;\r\n\t}\r\n\r\n\t.exit-btn {\r\n\t\twidth: 100%;\r\n\t\tmargin-top: 10rpx;\r\n\t}\r\n\t\r\n\t.modal-footer {\r\n\t\tdisplay: flex;\r\n\t\tgap: 20rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tborder-top: 2rpx solid #f0f0f0;\r\n\t}\r\n\t\r\n\t.modal-footer .btn {\r\n\t\tflex: 1;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 80rpx;\r\n\t\ttext-align: center;\r\n\t\tborder-radius: 8rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tborder: none;\r\n\t}\r\n</style>\r\n","import MiniProgramPage from 'C:/D/re/kirojianlu/jianlu-uniapp/pages/team/team.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","formatDate","groupApi","showError","showSuccess","showConfirm"],"mappings":"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"}