{"version":3,"file":"home.js","sources":["pages/home/home.vue","../../../D/HBuilderX.4.56.2025031210/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaG9tZS9ob21lLnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"home-container\">\n\t\t<!-- Banner 轮播图 -->\n\t\t<view class=\"banner-section\" v-if=\"bannerList.length > 0\">\n\t\t\t<swiper \n\t\t\t\tclass=\"banner-swiper\"\n\t\t\t\t:indicator-dots=\"true\"\n\t\t\t\t:autoplay=\"true\"\n\t\t\t\t:interval=\"4000\"\n\t\t\t\t:duration=\"500\"\n\t\t\t\t:circular=\"true\"\n\t\t\t\tindicator-active-color=\"#007aff\"\n\t\t\t\tindicator-color=\"rgba(255,255,255,0.5)\"\n\t\t\t>\n\t\t\t\t<swiper-item \n\t\t\t\t\tv-for=\"banner in bannerList\" \n\t\t\t\t\t:key=\"banner.id\"\n\t\t\t\t\t@tap=\"onBannerTap(banner)\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"banner-item\">\n\t\t\t\t\t\t<image \n\t\t\t\t\t\t\t:src=\"getImageUrl(banner.image_url)\" \n\t\t\t\t\t\t\tclass=\"banner-image\"\n\t\t\t\t\t\t\tmode=\"aspectFill\"\n\t\t\t\t\t\t\t:lazy-load=\"true\"\n\t\t\t\t\t\t\t@error=\"onImageError\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<view class=\"banner-overlay\" v-if=\"banner.title || banner.description\">\n\t\t\t\t\t\t\t<view class=\"banner-content\">\n\t\t\t\t\t\t\t\t<text class=\"banner-title\" v-if=\"banner.title\">{{ banner.title }}</text>\n\t\t\t\t\t\t\t\t<text class=\"banner-description\" v-if=\"banner.description\">{{ banner.description }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</swiper-item>\n\t\t\t</swiper>\n\t\t</view>\n\t\t\n\t\t<!-- 顶部欢迎区域 -->\n\t\t<view class=\"welcome-section\">\n\t\t\t<view class=\"welcome-header\">\n\t\t\t\t<view class=\"user-info\">\n\t\t\t\t\t<view class=\"avatar\">\n\t\t\t\t\t\t<image \n\t\t\t\t\t\t\tv-if=\"userInfo.avatar\" \n\t\t\t\t\t\t\t:src=\"userInfo.avatar\" \n\t\t\t\t\t\t\tclass=\"avatar-image\"\n\t\t\t\t\t\t\tmode=\"aspectFill\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<text v-else class=\"avatar-text\">\n\t\t\t\t\t\t\t{{ (userInfo.nickname || userInfo.username || '').charAt(0) }}\n\t\t\t\t\t\t</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"user-details\">\n\t\t\t\t\t\t<text class=\"welcome-text\">你好，{{ userInfo.nickname || userInfo.username }}！</text>\n\t\t\t\t\t\t<text class=\"welcome-subtitle\">欢迎来到简庐团队协作平台</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"notification-icon\" @tap=\"goToMessages\">\n\t\t\t\t\t<text class=\"icon\">🔔</text>\n\t\t\t\t\t<view class=\"badge\" v-if=\"unreadCount > 0\">{{ unreadCount > 99 ? '99+' : unreadCount }}</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 快捷功能区 -->\n\t\t<view class=\"quick-actions\">\n\t\t\t<text class=\"section-title\">快捷功能</text>\n\t\t\t<view class=\"action-grid\">\n\t\t\t\t<view class=\"action-item\" @tap=\"createTeam\">\n\t\t\t\t\t<view class=\"action-icon\">👥</view>\n\t\t\t\t\t<text class=\"action-text\">创建团队</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"action-item\" @tap=\"createActivity\">\n\t\t\t\t\t<view class=\"action-icon\">📅</view>\n\t\t\t\t\t<text class=\"action-text\">发起活动</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"action-item\" @tap=\"joinTeam\">\n\t\t\t\t\t<view class=\"action-icon\">🔗</view>\n\t\t\t\t\t<text class=\"action-text\">加入团队</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"action-item\" @tap=\"viewCalendar\">\n\t\t\t\t\t<view class=\"action-icon\">📆</view>\n\t\t\t\t\t<text class=\"action-text\">日程安排</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 最近活动 -->\n\t\t<view class=\"recent-activities\">\n\t\t\t<view class=\"section-header\">\n\t\t\t\t<text class=\"section-title\">最近活动</text>\n\t\t\t\t<text class=\"more-link\" @tap=\"goToActivities\">查看更多</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"activity-list\" v-if=\"recentActivities.length > 0\">\n\t\t\t\t<view \n\t\t\t\t\tclass=\"activity-item\" \n\t\t\t\t\tv-for=\"activity in recentActivities\" \n\t\t\t\t\t:key=\"activity.id\"\n\t\t\t\t\t@tap=\"viewActivity(activity)\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"activity-info\">\n\t\t\t\t\t\t<text class=\"activity-title\">{{ activity.title }}</text>\n\t\t\t\t\t\t<text class=\"activity-team\">{{ activity.team_name }}</text>\n\t\t\t\t\t\t<text class=\"activity-time\">{{ formatDate(activity.start_time, 'MM月DD日 HH:mm') }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"activity-status\" :class=\"getActivityStatus(activity.start_time, activity.end_time)\">\n\t\t\t\t\t\t{{ getActivityStatusText(activity.start_time, activity.end_time) }}\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"empty-state\" v-else>\n\t\t\t\t<text class=\"empty-icon\">📅</text>\n\t\t\t\t<text class=\"empty-text\">暂无最近活动</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 我的团队 -->\n\t\t<view class=\"my-teams\">\n\t\t\t<view class=\"section-header\">\n\t\t\t\t<text class=\"section-title\">我的团队</text>\n\t\t\t\t<text class=\"more-link\" @tap=\"goToTeams\">查看更多</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"team-list\" v-if=\"myTeams.length > 0\">\n\t\t\t\t<view \n\t\t\t\t\tclass=\"team-item\" \n\t\t\t\t\tv-for=\"team in myTeams\" \n\t\t\t\t\t:key=\"team.id\"\n\t\t\t\t\t@tap=\"viewTeam(team)\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"team-avatar\">\n\t\t\t\t\t\t{{ team.name.charAt(0) }}\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"team-info\">\n\t\t\t\t\t\t<text class=\"team-name\">{{ team.name }}</text>\n\t\t\t\t\t\t<text class=\"team-members\">{{ team.member_count }} 成员</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"team-role\" :class=\"team.role\">\n\t\t\t\t\t\t{{ team.role === 'admin' ? '管理员' : '成员' }}\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"empty-state\" v-else>\n\t\t\t\t<text class=\"empty-icon\">👥</text>\n\t\t\t\t<text class=\"empty-text\">暂未加入任何团队</text>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport { groupApi, activityApi, bannerApi } from '../../api/index.js'\n\timport { formatDate, getActivityStatus, getActivityStatusText, showSuccess, showError } from '../../utils/index.js'\n\timport envConfig from '../../config/env.js'\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tuserInfo: {},\n\t\t\t\tunreadCount: 0,\n\t\t\t\trecentActivities: [],\n\t\t\t\tmyTeams: [],\n\t\t\t\tbannerList: [], // 轮播图列表\n\t\t\t\tloading: false\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\tthis.userInfo = uni.getStorageSync('userInfo') || {}\n\t\t\tthis.loadData()\n\t\t},\n\t\tonShow() {\n\t\t\tthis.loadData()\n\t\t},\n\t\tonPullDownRefresh() {\n\t\t\tthis.loadData().finally(() => {\n\t\t\t\tuni.stopPullDownRefresh()\n\t\t\t})\n\t\t},\n\t\tmethods: {\n\t\t\tformatDate,\n\t\t\tgetActivityStatus,\n\t\t\tgetActivityStatusText,\n\t\t\t\n\t\t\t// 加载数据\n\t\t\tasync loadData() {\n\t\t\t\tthis.loading = true\n\t\t\t\ttry {\n\t\t\t\t\tawait Promise.all([\n\t\t\t\t\t\tthis.loadBanners(),\n\t\t\t\t\t\tthis.loadRecentActivities(),\n\t\t\t\t\t\tthis.loadMyTeams(),\n\t\t\t\t\t\tthis.loadUnreadCount()\n\t\t\t\t\t])\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('加载数据失败:', error)\n\t\t\t\t} finally {\n\t\t\t\t\tthis.loading = false\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 加载轮播图\n\t\t\tasync loadBanners() {\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await bannerApi.getList()\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t// 公开接口直接返回轮播图数组\n\t\t\t\t\t\tthis.bannerList = Array.isArray(response.data) ? response.data : []\n\t\t\t\t\t\tconsole.log('轮播图加载成功:', this.bannerList.length, '张')\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error('轮播图加载失败:', response.message)\n\t\t\t\t\t\tthis.bannerList = []\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('轮播图加载异常:', error)\n\t\t\t\t\tthis.bannerList = []\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 加载最近活动\n\t\t\tasync loadRecentActivities() {\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await activityApi.getList()\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t// 修复：活动数据在 response.data.activities 中\n\t\t\t\t\t\tconst activities = response.data.activities || response.data || []\n\t\t\t\t\t\tthis.recentActivities = Array.isArray(activities) ? activities.slice(0, 3) : []\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('加载活动失败:', error)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 加载我的团队\n\t\t\tasync loadMyTeams() {\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await groupApi.getList()\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t// 修复：团队数据在 response.data.teams 中\n\t\t\t\t\t\tconst teams = response.data.teams || response.data || []\n\t\t\t\t\t\tthis.myTeams = Array.isArray(teams) ? teams.slice(0, 3) : []\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('加载团队失败:', error)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 加载未读消息数量\n\t\t\tasync loadUnreadCount() {\n\t\t\t\t// TODO: 实现未读消息数量API\n\t\t\t\tthis.unreadCount = 0\n\t\t\t},\n\t\t\t\n\t\t\t// 跳转到消息页面\n\t\t\tgoToMessages() {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/message/message'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// 跳转到活动页面\n\t\t\tgoToActivities() {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/activity/activity'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// 跳转到团队页面\n\t\t\tgoToTeams() {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/team/team'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// 处理图片URL\n\t\t\tgetImageUrl(imageUrl) {\n\t\t\t\tif (!imageUrl) return ''\n\t\t\t\t\n\t\t\t\t// 如果已经是完整URL，直接返回\n\t\t\t\tif (imageUrl.startsWith('http://') || imageUrl.startsWith('https://')) {\n\t\t\t\t\treturn imageUrl\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 处理相对路径，转换为完整URL\n\t\t\t\tconst baseUrl = envConfig.IMAGE_BASE_URL\n\t\t\t\treturn baseUrl + (imageUrl.startsWith('/') ? imageUrl : '/' + imageUrl)\n\t\t\t},\n\t\t\t\n\t\t\t// 图片加载错误处理\n\t\t\tonImageError(e) {\n\t\t\t\tconsole.error('图片加载失败:', e)\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '图片加载失败',\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tduration: 2000\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// Banner 点击事件\n\t\t\tonBannerTap(banner) {\n\t\t\t\tconsole.log('点击轮播图:', banner)\n\t\t\t\t\n\t\t\t\t// 如果有链接地址，处理跳转\n\t\t\t\tif (banner.link_url) {\n\t\t\t\t\t// 判断是否为外部链接\n\t\t\t\t\tif (banner.link_url.startsWith('http://') || banner.link_url.startsWith('https://')) {\n\t\t\t\t\t\t// 复制链接到剪贴板并提示用户\n\t\t\t\t\t\tuni.setClipboardData({\n\t\t\t\t\t\t\tdata: banner.link_url,\n\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\t\t\tcontent: '链接已复制到剪贴板，请在浏览器中打开',\n\t\t\t\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 内部链接，直接跳转\n\t\t\t\t\t\tif (banner.link_url.startsWith('/')) {\n\t\t\t\t\t\t\t// 页面路径跳转\n\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\turl: banner.link_url\n\t\t\t\t\t\t\t}).catch(() => {\n\t\t\t\t\t\t\t\t// 如果 navigateTo 失败，尝试 switchTab\n\t\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\t\turl: banner.link_url\n\t\t\t\t\t\t\t\t}).catch(() => {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '页面跳转失败',\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// 没有链接，显示轮播图详情\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: banner.title || '轮播图',\n\t\t\t\t\t\tcontent: banner.description || '暂无描述',\n\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 创建团队\n\t\t\tcreateTeam() {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/team/team'\n\t\t\t\t})\n\t\t\t\t// 可以通过事件总线或其他方式通知团队页面显示创建弹窗\n\t\t\t},\n\t\t\t\n\t\t\t// 发起活动\n\t\t\tcreateActivity() {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/activity/activity'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// 加入团队\n\t\t\tjoinTeam() {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '加入团队',\n\t\t\t\t\tcontent: '请输入团队邀请码',\n\t\t\t\t\teditable: true,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm && res.content) {\n\t\t\t\t\t\t\t// TODO: 实现加入团队逻辑\n\t\t\t\t\t\t\tshowSuccess('加入团队成功')\n\t\t\t\t\t\t\tthis.loadMyTeams()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// 查看日程\n\t\t\tviewCalendar() {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '功能开发中',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// 查看活动详情\n\t\t\tviewActivity(activity) {\n\t\t\t\t// TODO: 跳转到活动详情页面\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: activity.title,\n\t\t\t\t\tcontent: `时间: ${formatDate(activity.start_time, 'YYYY年MM月DD日 HH:mm')}\\n团队: ${activity.team_name}`,\n\t\t\t\t\tshowCancel: false\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// 查看团队详情\n\t\t\tviewTeam(team) {\n\t\t\t\t// TODO: 跳转到团队详情页面\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: team.name,\n\t\t\t\t\tcontent: `成员数量: ${team.member_count}\\n我的角色: ${team.role === 'admin' ? '管理员' : '成员'}`,\n\t\t\t\t\tshowCancel: false\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.home-container {\n\t\tmin-height: 100vh;\n\t\tbackground-color: #f5f5f5;\n\t}\n\t\n\t/* Banner 轮播图样式 */\n\t.banner-section {\n\t\twidth: 100%;\n\t\theight: 360rpx;\n\t\tposition: relative;\n\t}\n\t\n\t.banner-swiper {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\t\n\t.banner-item {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\t\n\t.banner-image {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tobject-fit: cover;\n\t\tdisplay: block;\n\t}\n\t\n\t.banner-overlay {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbackground: linear-gradient(transparent, rgba(0, 0, 0, 0.6));\n\t\tpadding: 40rpx 30rpx 30rpx;\n\t}\n\t\n\t.banner-content {\n\t\tcolor: white;\n\t}\n\t\n\t.banner-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tline-height: 1.4;\n\t\tmargin-bottom: 10rpx;\n\t\tdisplay: block;\n\t\ttext-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.3);\n\t}\n\t\n\t.banner-description {\n\t\tfont-size: 26rpx;\n\t\tline-height: 1.4;\n\t\topacity: 0.9;\n\t\tdisplay: block;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\ttext-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.3);\n\t}\n\t\n\t.welcome-section {\n\t\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\t\tpadding: 40rpx 30rpx 30rpx;\n\t\tcolor: white;\n\t}\n\t\n\t.welcome-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t}\n\t\n\t.user-info {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t\n\t.avatar {\n\t\twidth: 100rpx;\n\t\theight: 100rpx;\n\t\tborder-radius: 50rpx;\n\t\tbackground: rgba(255, 255, 255, 0.2);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmargin-right: 20rpx;\n\t\toverflow: hidden;\n\t}\n\t\n\t.avatar-image {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tborder-radius: 50rpx;\n\t}\n\t\n\t.avatar-text {\n\t\tcolor: white;\n\t\tfont-size: 40rpx;\n\t\tfont-weight: bold;\n\t}\n\t\n\t.welcome-text {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tdisplay: block;\n\t\tmargin-bottom: 8rpx;\n\t\tline-height: 1.3;\n\t\tword-wrap: break-word;\n\t\tword-break: break-all;\n\t}\n\t\n\t.welcome-subtitle {\n\t\tfont-size: 24rpx;\n\t\topacity: 0.8;\n\t\tdisplay: block;\n\t}\n\t\n\t.notification-icon {\n\t\tposition: relative;\n\t\twidth: 60rpx;\n\t\theight: 60rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t\n\t.icon {\n\t\tfont-size: 32rpx;\n\t}\n\t\n\t.badge {\n\t\tposition: absolute;\n\t\ttop: -5rpx;\n\t\tright: -5rpx;\n\t\tbackground: #ff3b30;\n\t\tcolor: white;\n\t\tfont-size: 20rpx;\n\t\tpadding: 4rpx 8rpx;\n\t\tborder-radius: 12rpx;\n\t\tmin-width: 24rpx;\n\t\ttext-align: center;\n\t}\n\t\n\t.quick-actions {\n\t\tpadding: 30rpx;\n\t\tbackground: white;\n\t\tmargin: 20rpx;\n\t\tborder-radius: 16rpx;\n\t}\n\t\n\t.section-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\tdisplay: block;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t.action-grid {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(4, 1fr);\n\t\tgap: 20rpx;\n\t}\n\t\n\t.action-item {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tpadding: 20rpx;\n\t\tborder-radius: 12rpx;\n\t\tbackground: #f8f9fa;\n\t}\n\t\n\t.action-icon {\n\t\tfont-size: 40rpx;\n\t\tmargin-bottom: 12rpx;\n\t}\n\t\n\t.action-text {\n\t\tfont-size: 24rpx;\n\t\tcolor: #666;\n\t\ttext-align: center;\n\t}\n\t\n\t.recent-activities, .my-teams {\n\t\tmargin: 20rpx;\n\t\tbackground: white;\n\t\tborder-radius: 16rpx;\n\t\tpadding: 30rpx;\n\t}\n\t\n\t.section-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t.more-link {\n\t\tfont-size: 24rpx;\n\t\tcolor: #007aff;\n\t}\n\t\n\t.activity-item, .team-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 20rpx 0;\n\t\tborder-bottom: 1rpx solid #f0f0f0;\n\t}\n\t\n\t.activity-item:last-child, .team-item:last-child {\n\t\tborder-bottom: none;\n\t}\n\t\n\t.activity-info, .team-info {\n\t\tflex: 1;\n\t}\n\t\n\t.activity-title, .team-name {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\tdisplay: block;\n\t\tmargin-bottom: 8rpx;\n\t\tline-height: 1.3;\n\t\tword-wrap: break-word;\n\t\tword-break: break-all;\n\t\t/* 限制最多显示1行 */\n\t\tdisplay: -webkit-box;\n\t\t-webkit-line-clamp: 1;\n\t\t-webkit-box-orient: vertical;\n\t\toverflow: hidden;\n\t}\n\t\n\t.activity-team, .activity-time, .team-members {\n\t\tfont-size: 24rpx;\n\t\tcolor: #666;\n\t\tdisplay: block;\n\t\tmargin-bottom: 4rpx;\n\t}\n\t\n\t.activity-status, .team-role {\n\t\tfont-size: 20rpx;\n\t\tpadding: 8rpx 16rpx;\n\t\tborder-radius: 12rpx;\n\t\tcolor: white;\n\t\tfont-weight: bold;\n\t}\n\t\n\t.activity-status.upcoming {\n\t\tbackground: #007aff;\n\t}\n\t\n\t.activity-status.ongoing {\n\t\tbackground: #28a745;\n\t}\n\t\n\t.activity-status.ended {\n\t\tbackground: #6c757d;\n\t}\n\t\n\t.team-role.admin {\n\t\tbackground: #ff3b30;\n\t}\n\t\n\t.team-role.member {\n\t\tbackground: #007aff;\n\t}\n\t\n\t.team-avatar {\n\t\twidth: 60rpx;\n\t\theight: 60rpx;\n\t\tborder-radius: 30rpx;\n\t\tbackground: #007aff;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tcolor: white;\n\t\tfont-size: 24rpx;\n\t\tfont-weight: bold;\n\t\tmargin-right: 20rpx;\n\t}\n\t\n\t.empty-state {\n\t\ttext-align: center;\n\t\tpadding: 60rpx 20rpx;\n\t}\n\t\n\t.empty-icon {\n\t\tfont-size: 80rpx;\n\t\tdisplay: block;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t.empty-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #999;\n\t}\n</style>\n","import MiniProgramPage from 'C:/vscode/kirojianlu/jianlu-uniapp/pages/home/home.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","formatDate","getActivityStatus","getActivityStatusText","bannerApi","activityApi","groupApi","envConfig","showSuccess"],"mappings":"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"}