{"version":3,"file":"home.js","sources":["pages/home/home.vue","../../../D/HBuilderX.4.56.2025031210/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaG9tZS9ob21lLnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"home-container\">\n\t\t<!-- Banner ËΩÆÊí≠Âõæ -->\n\t\t<view class=\"banner-section\" v-if=\"bannerList.length > 0\">\n\t\t\t<swiper \n\t\t\t\tclass=\"banner-swiper\"\n\t\t\t\t:indicator-dots=\"true\"\n\t\t\t\t:autoplay=\"true\"\n\t\t\t\t:interval=\"4000\"\n\t\t\t\t:duration=\"500\"\n\t\t\t\t:circular=\"true\"\n\t\t\t\tindicator-active-color=\"#007aff\"\n\t\t\t\tindicator-color=\"rgba(255,255,255,0.5)\"\n\t\t\t>\n\t\t\t\t<swiper-item \n\t\t\t\t\tv-for=\"banner in bannerList\" \n\t\t\t\t\t:key=\"banner.id\"\n\t\t\t\t\t@tap=\"onBannerTap(banner)\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"banner-item\">\n\t\t\t\t\t\t<image \n\t\t\t\t\t\t\t:src=\"getImageUrl(banner.image_url)\" \n\t\t\t\t\t\t\tclass=\"banner-image\"\n\t\t\t\t\t\t\tmode=\"aspectFill\"\n\t\t\t\t\t\t\t:lazy-load=\"true\"\n\t\t\t\t\t\t\t@error=\"onImageError\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<view class=\"banner-overlay\" v-if=\"banner.title || banner.description\">\n\t\t\t\t\t\t\t<view class=\"banner-content\">\n\t\t\t\t\t\t\t\t<text class=\"banner-title\" v-if=\"banner.title\">{{ banner.title }}</text>\n\t\t\t\t\t\t\t\t<text class=\"banner-description\" v-if=\"banner.description\">{{ banner.description }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</swiper-item>\n\t\t\t</swiper>\n\t\t</view>\n\t\t\n\t\t<!-- È°∂ÈÉ®Ê¨¢ËøéÂå∫Âüü -->\n\t\t<view class=\"welcome-section\">\n\t\t\t<view class=\"welcome-header\">\n\t\t\t\t<view class=\"user-info\">\n\t\t\t\t\t<view class=\"avatar\">\n\t\t\t\t\t\t<image \n\t\t\t\t\t\t\tv-if=\"userInfo.avatar\" \n\t\t\t\t\t\t\t:src=\"userInfo.avatar\" \n\t\t\t\t\t\t\tclass=\"avatar-image\"\n\t\t\t\t\t\t\tmode=\"aspectFill\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<text v-else class=\"avatar-text\">\n\t\t\t\t\t\t\t{{ (userInfo.nickname || userInfo.username || '').charAt(0) }}\n\t\t\t\t\t\t</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"user-details\">\n\t\t\t\t\t\t<text class=\"welcome-text\">‰Ω†Â•ΩÔºå{{ userInfo.nickname || userInfo.username }}ÔºÅ</text>\n\t\t\t\t\t\t<text class=\"welcome-subtitle\">Ê¨¢ËøéÊù•Âà∞ÁÆÄÂ∫êÂõ¢ÈòüÂçè‰ΩúÂπ≥Âè∞</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"notification-icon\" @tap=\"goToMessages\">\n\t\t\t\t\t<text class=\"icon\">üîî</text>\n\t\t\t\t\t<view class=\"badge\" v-if=\"unreadCount > 0\">{{ unreadCount > 99 ? '99+' : unreadCount }}</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- Âø´Êç∑ÂäüËÉΩÂå∫ -->\n\t\t<view class=\"quick-actions\">\n\t\t\t<text class=\"section-title\">Âø´Êç∑ÂäüËÉΩ</text>\n\t\t\t<view class=\"action-grid\">\n\t\t\t\t<view class=\"action-item\" @tap=\"createTeam\">\n\t\t\t\t\t<view class=\"action-icon\">üë•</view>\n\t\t\t\t\t<text class=\"action-text\">ÂàõÂª∫Âõ¢Èòü</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"action-item\" @tap=\"createActivity\">\n\t\t\t\t\t<view class=\"action-icon\">üìÖ</view>\n\t\t\t\t\t<text class=\"action-text\">ÂèëËµ∑Ê¥ªÂä®</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"action-item\" @tap=\"joinTeam\">\n\t\t\t\t\t<view class=\"action-icon\">üîó</view>\n\t\t\t\t\t<text class=\"action-text\">Âä†ÂÖ•Âõ¢Èòü</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"action-item\" @tap=\"viewCalendar\">\n\t\t\t\t\t<view class=\"action-icon\">üìÜ</view>\n\t\t\t\t\t<text class=\"action-text\">Êó•Á®ãÂÆâÊéí</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- ÊúÄËøëÊ¥ªÂä® -->\n\t\t<view class=\"recent-activities\">\n\t\t\t<view class=\"section-header\">\n\t\t\t\t<text class=\"section-title\">ÊúÄËøëÊ¥ªÂä®</text>\n\t\t\t\t<text class=\"more-link\" @tap=\"goToActivities\">Êü•ÁúãÊõ¥Â§ö</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"activity-list\" v-if=\"recentActivities.length > 0\">\n\t\t\t\t<view \n\t\t\t\t\tclass=\"activity-item\" \n\t\t\t\t\tv-for=\"activity in recentActivities\" \n\t\t\t\t\t:key=\"activity.id\"\n\t\t\t\t\t@tap=\"viewActivity(activity)\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"activity-info\">\n\t\t\t\t\t\t<text class=\"activity-title\">{{ activity.title }}</text>\n\t\t\t\t\t\t<text class=\"activity-team\">{{ activity.team_name }}</text>\n\t\t\t\t\t\t<text class=\"activity-time\">{{ formatDate(activity.start_time, 'MMÊúàDDÊó• HH:mm') }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"activity-status\" :class=\"getActivityStatus(activity.start_time, activity.end_time)\">\n\t\t\t\t\t\t{{ getActivityStatusText(activity.start_time, activity.end_time) }}\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"empty-state\" v-else>\n\t\t\t\t<text class=\"empty-icon\">üìÖ</text>\n\t\t\t\t<text class=\"empty-text\">ÊöÇÊó†ÊúÄËøëÊ¥ªÂä®</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- ÊàëÁöÑÂõ¢Èòü -->\n\t\t<view class=\"my-teams\">\n\t\t\t<view class=\"section-header\">\n\t\t\t\t<text class=\"section-title\">ÊàëÁöÑÂõ¢Èòü</text>\n\t\t\t\t<text class=\"more-link\" @tap=\"goToTeams\">Êü•ÁúãÊõ¥Â§ö</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"team-list\" v-if=\"myTeams.length > 0\">\n\t\t\t\t<view \n\t\t\t\t\tclass=\"team-item\" \n\t\t\t\t\tv-for=\"team in myTeams\" \n\t\t\t\t\t:key=\"team.id\"\n\t\t\t\t\t@tap=\"viewTeam(team)\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"team-avatar\">\n\t\t\t\t\t\t{{ team.name.charAt(0) }}\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"team-info\">\n\t\t\t\t\t\t<text class=\"team-name\">{{ team.name }}</text>\n\t\t\t\t\t\t<text class=\"team-members\">{{ team.member_count }} ÊàêÂëò</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"team-role\" :class=\"team.role\">\n\t\t\t\t\t\t{{ team.role === 'admin' ? 'ÁÆ°ÁêÜÂëò' : 'ÊàêÂëò' }}\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"empty-state\" v-else>\n\t\t\t\t<text class=\"empty-icon\">üë•</text>\n\t\t\t\t<text class=\"empty-text\">ÊöÇÊú™Âä†ÂÖ•‰ªª‰ΩïÂõ¢Èòü</text>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport { groupApi, activityApi, bannerApi } from '../../api/index.js'\n\timport { formatDate, getActivityStatus, getActivityStatusText, showSuccess, showError } from '../../utils/index.js'\n\timport envConfig from '../../config/env.js'\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tuserInfo: {},\n\t\t\t\tunreadCount: 0,\n\t\t\t\trecentActivities: [],\n\t\t\t\tmyTeams: [],\n\t\t\t\tbannerList: [], // ËΩÆÊí≠ÂõæÂàóË°®\n\t\t\t\tloading: false\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\tthis.userInfo = uni.getStorageSync('userInfo') || {}\n\t\t\tthis.loadData()\n\t\t},\n\t\tonShow() {\n\t\t\tthis.loadData()\n\t\t},\n\t\tonPullDownRefresh() {\n\t\t\tthis.loadData().finally(() => {\n\t\t\t\tuni.stopPullDownRefresh()\n\t\t\t})\n\t\t},\n\t\tmethods: {\n\t\t\tformatDate,\n\t\t\tgetActivityStatus,\n\t\t\tgetActivityStatusText,\n\t\t\t\n\t\t\t// Âä†ËΩΩÊï∞ÊçÆ\n\t\t\tasync loadData() {\n\t\t\t\tthis.loading = true\n\t\t\t\ttry {\n\t\t\t\t\tawait Promise.all([\n\t\t\t\t\t\tthis.loadBanners(),\n\t\t\t\t\t\tthis.loadRecentActivities(),\n\t\t\t\t\t\tthis.loadMyTeams(),\n\t\t\t\t\t\tthis.loadUnreadCount()\n\t\t\t\t\t])\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•:', error)\n\t\t\t\t} finally {\n\t\t\t\t\tthis.loading = false\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// Âä†ËΩΩËΩÆÊí≠Âõæ\n\t\t\tasync loadBanners() {\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await bannerApi.getList()\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t// ÂÖ¨ÂºÄÊé•Âè£Áõ¥Êé•ËøîÂõûËΩÆÊí≠ÂõæÊï∞ÁªÑ\n\t\t\t\t\t\tthis.bannerList = Array.isArray(response.data) ? response.data : []\n\t\t\t\t\t\tconsole.log('ËΩÆÊí≠ÂõæÂä†ËΩΩÊàêÂäü:', this.bannerList.length, 'Âº†')\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error('ËΩÆÊí≠ÂõæÂä†ËΩΩÂ§±Ë¥•:', response.message)\n\t\t\t\t\t\tthis.bannerList = []\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('ËΩÆÊí≠ÂõæÂä†ËΩΩÂºÇÂ∏∏:', error)\n\t\t\t\t\tthis.bannerList = []\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// Âä†ËΩΩÊúÄËøëÊ¥ªÂä®\n\t\t\tasync loadRecentActivities() {\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await activityApi.getList()\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t// ‰øÆÂ§çÔºöÊ¥ªÂä®Êï∞ÊçÆÂú® response.data.activities ‰∏≠\n\t\t\t\t\t\tconst activities = response.data.activities || response.data || []\n\t\t\t\t\t\tthis.recentActivities = Array.isArray(activities) ? activities.slice(0, 3) : []\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('Âä†ËΩΩÊ¥ªÂä®Â§±Ë¥•:', error)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// Âä†ËΩΩÊàëÁöÑÂõ¢Èòü\n\t\t\tasync loadMyTeams() {\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await groupApi.getList()\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t// ‰øÆÂ§çÔºöÂõ¢ÈòüÊï∞ÊçÆÂú® response.data.teams ‰∏≠\n\t\t\t\t\t\tconst teams = response.data.teams || response.data || []\n\t\t\t\t\t\tthis.myTeams = Array.isArray(teams) ? teams.slice(0, 3) : []\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('Âä†ËΩΩÂõ¢ÈòüÂ§±Ë¥•:', error)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// Âä†ËΩΩÊú™ËØªÊ∂àÊÅØÊï∞Èáè\n\t\t\tasync loadUnreadCount() {\n\t\t\t\t// TODO: ÂÆûÁé∞Êú™ËØªÊ∂àÊÅØÊï∞ÈáèAPI\n\t\t\t\tthis.unreadCount = 0\n\t\t\t},\n\t\t\t\n\t\t\t// Ë∑≥ËΩ¨Âà∞Ê∂àÊÅØÈ°µÈù¢\n\t\t\tgoToMessages() {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/message/message'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// Ë∑≥ËΩ¨Âà∞Ê¥ªÂä®È°µÈù¢\n\t\t\tgoToActivities() {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/activity/activity'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// Ë∑≥ËΩ¨Âà∞Âõ¢ÈòüÈ°µÈù¢\n\t\t\tgoToTeams() {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/team/team'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// Â§ÑÁêÜÂõæÁâáURL\n\t\t\tgetImageUrl(imageUrl) {\n\t\t\t\tif (!imageUrl) return ''\n\t\t\t\t\n\t\t\t\t// Â¶ÇÊûúÂ∑≤ÁªèÊòØÂÆåÊï¥URLÔºåÁõ¥Êé•ËøîÂõû\n\t\t\t\tif (imageUrl.startsWith('http://') || imageUrl.startsWith('https://')) {\n\t\t\t\t\treturn imageUrl\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Â§ÑÁêÜÁõ∏ÂØπË∑ØÂæÑÔºåËΩ¨Êç¢‰∏∫ÂÆåÊï¥URL\n\t\t\t\tconst baseUrl = envConfig.IMAGE_BASE_URL\n\t\t\t\treturn baseUrl + (imageUrl.startsWith('/') ? imageUrl : '/' + imageUrl)\n\t\t\t},\n\t\t\t\n\t\t\t// ÂõæÁâáÂä†ËΩΩÈîôËØØÂ§ÑÁêÜ\n\t\t\tonImageError(e) {\n\t\t\t\tconsole.error('ÂõæÁâáÂä†ËΩΩÂ§±Ë¥•:', e)\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'ÂõæÁâáÂä†ËΩΩÂ§±Ë¥•',\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tduration: 2000\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// Banner ÁÇπÂáª‰∫ã‰ª∂\n\t\t\tonBannerTap(banner) {\n\t\t\t\tconsole.log('ÁÇπÂáªËΩÆÊí≠Âõæ:', banner)\n\t\t\t\t\n\t\t\t\t// Â¶ÇÊûúÊúâÈìæÊé•Âú∞ÂùÄÔºåÂ§ÑÁêÜË∑≥ËΩ¨\n\t\t\t\tif (banner.link_url) {\n\t\t\t\t\t// Âà§Êñ≠ÊòØÂê¶‰∏∫Â§ñÈÉ®ÈìæÊé•\n\t\t\t\t\tif (banner.link_url.startsWith('http://') || banner.link_url.startsWith('https://')) {\n\t\t\t\t\t\t// Â§çÂà∂ÈìæÊé•Âà∞Ââ™Ë¥¥ÊùøÂπ∂ÊèêÁ§∫Áî®Êà∑\n\t\t\t\t\t\tuni.setClipboardData({\n\t\t\t\t\t\t\tdata: banner.link_url,\n\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\ttitle: 'ÊèêÁ§∫',\n\t\t\t\t\t\t\t\t\tcontent: 'ÈìæÊé•Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥ÊùøÔºåËØ∑Âú®ÊµèËßàÂô®‰∏≠ÊâìÂºÄ',\n\t\t\t\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// ÂÜÖÈÉ®ÈìæÊé•ÔºåÁõ¥Êé•Ë∑≥ËΩ¨\n\t\t\t\t\t\tif (banner.link_url.startsWith('/')) {\n\t\t\t\t\t\t\t// È°µÈù¢Ë∑ØÂæÑË∑≥ËΩ¨\n\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\turl: banner.link_url\n\t\t\t\t\t\t\t}).catch(() => {\n\t\t\t\t\t\t\t\t// Â¶ÇÊûú navigateTo Â§±Ë¥•ÔºåÂ∞ùËØï switchTab\n\t\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\t\turl: banner.link_url\n\t\t\t\t\t\t\t\t}).catch(() => {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: 'È°µÈù¢Ë∑≥ËΩ¨Â§±Ë¥•',\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Ê≤°ÊúâÈìæÊé•ÔºåÊòæÁ§∫ËΩÆÊí≠ÂõæËØ¶ÊÉÖ\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: banner.title || 'ËΩÆÊí≠Âõæ',\n\t\t\t\t\t\tcontent: banner.description || 'ÊöÇÊó†ÊèèËø∞',\n\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// ÂàõÂª∫Âõ¢Èòü\n\t\t\tcreateTeam() {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/team/team'\n\t\t\t\t})\n\t\t\t\t// ÂèØ‰ª•ÈÄöËøá‰∫ã‰ª∂ÊÄªÁ∫øÊàñÂÖ∂‰ªñÊñπÂºèÈÄöÁü•Âõ¢ÈòüÈ°µÈù¢ÊòæÁ§∫ÂàõÂª∫ÂºπÁ™ó\n\t\t\t},\n\t\t\t\n\t\t\t// ÂèëËµ∑Ê¥ªÂä®\n\t\t\tcreateActivity() {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/activity/activity'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// Âä†ÂÖ•Âõ¢Èòü\n\t\t\tjoinTeam() {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'Âä†ÂÖ•Âõ¢Èòü',\n\t\t\t\t\tcontent: 'ËØ∑ËæìÂÖ•Âõ¢ÈòüÈÇÄËØ∑Á†Å',\n\t\t\t\t\teditable: true,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm && res.content) {\n\t\t\t\t\t\t\t// TODO: ÂÆûÁé∞Âä†ÂÖ•Âõ¢ÈòüÈÄªËæë\n\t\t\t\t\t\t\tshowSuccess('Âä†ÂÖ•Âõ¢ÈòüÊàêÂäü')\n\t\t\t\t\t\t\tthis.loadMyTeams()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// Êü•ÁúãÊó•Á®ã\n\t\t\tviewCalendar() {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'ÂäüËÉΩÂºÄÂèë‰∏≠',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// Êü•ÁúãÊ¥ªÂä®ËØ¶ÊÉÖ\n\t\t\tviewActivity(activity) {\n\t\t\t\t// TODO: Ë∑≥ËΩ¨Âà∞Ê¥ªÂä®ËØ¶ÊÉÖÈ°µÈù¢\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: activity.title,\n\t\t\t\t\tcontent: `Êó∂Èó¥: ${formatDate(activity.start_time, 'YYYYÂπ¥MMÊúàDDÊó• HH:mm')}\\nÂõ¢Èòü: ${activity.team_name}`,\n\t\t\t\t\tshowCancel: false\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// Êü•ÁúãÂõ¢ÈòüËØ¶ÊÉÖ\n\t\t\tviewTeam(team) {\n\t\t\t\t// TODO: Ë∑≥ËΩ¨Âà∞Âõ¢ÈòüËØ¶ÊÉÖÈ°µÈù¢\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: team.name,\n\t\t\t\t\tcontent: `ÊàêÂëòÊï∞Èáè: ${team.member_count}\\nÊàëÁöÑËßíËâ≤: ${team.role === 'admin' ? 'ÁÆ°ÁêÜÂëò' : 'ÊàêÂëò'}`,\n\t\t\t\t\tshowCancel: false\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.home-container {\n\t\tmin-height: 100vh;\n\t\tbackground-color: #f5f5f5;\n\t}\n\t\n\t/* Banner ËΩÆÊí≠ÂõæÊ†∑Âºè */\n\t.banner-section {\n\t\twidth: 100%;\n\t\theight: 360rpx;\n\t\tposition: relative;\n\t}\n\t\n\t.banner-swiper {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\t\n\t.banner-item {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\t\n\t.banner-image {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tobject-fit: cover;\n\t\tdisplay: block;\n\t}\n\t\n\t.banner-overlay {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbackground: linear-gradient(transparent, rgba(0, 0, 0, 0.6));\n\t\tpadding: 40rpx 30rpx 30rpx;\n\t}\n\t\n\t.banner-content {\n\t\tcolor: white;\n\t}\n\t\n\t.banner-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tline-height: 1.4;\n\t\tmargin-bottom: 10rpx;\n\t\tdisplay: block;\n\t\ttext-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.3);\n\t}\n\t\n\t.banner-description {\n\t\tfont-size: 26rpx;\n\t\tline-height: 1.4;\n\t\topacity: 0.9;\n\t\tdisplay: block;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\ttext-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.3);\n\t}\n\t\n\t.welcome-section {\n\t\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\t\tpadding: 40rpx 30rpx 30rpx;\n\t\tcolor: white;\n\t}\n\t\n\t.welcome-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t}\n\t\n\t.user-info {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t\n\t.avatar {\n\t\twidth: 100rpx;\n\t\theight: 100rpx;\n\t\tborder-radius: 50rpx;\n\t\tbackground: rgba(255, 255, 255, 0.2);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmargin-right: 20rpx;\n\t\toverflow: hidden;\n\t}\n\t\n\t.avatar-image {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tborder-radius: 50rpx;\n\t}\n\t\n\t.avatar-text {\n\t\tcolor: white;\n\t\tfont-size: 40rpx;\n\t\tfont-weight: bold;\n\t}\n\t\n\t.welcome-text {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tdisplay: block;\n\t\tmargin-bottom: 8rpx;\n\t\tline-height: 1.3;\n\t\tword-wrap: break-word;\n\t\tword-break: break-all;\n\t}\n\t\n\t.welcome-subtitle {\n\t\tfont-size: 24rpx;\n\t\topacity: 0.8;\n\t\tdisplay: block;\n\t}\n\t\n\t.notification-icon {\n\t\tposition: relative;\n\t\twidth: 60rpx;\n\t\theight: 60rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t\n\t.icon {\n\t\tfont-size: 32rpx;\n\t}\n\t\n\t.badge {\n\t\tposition: absolute;\n\t\ttop: -5rpx;\n\t\tright: -5rpx;\n\t\tbackground: #ff3b30;\n\t\tcolor: white;\n\t\tfont-size: 20rpx;\n\t\tpadding: 4rpx 8rpx;\n\t\tborder-radius: 12rpx;\n\t\tmin-width: 24rpx;\n\t\ttext-align: center;\n\t}\n\t\n\t.quick-actions {\n\t\tpadding: 30rpx;\n\t\tbackground: white;\n\t\tmargin: 20rpx;\n\t\tborder-radius: 16rpx;\n\t}\n\t\n\t.section-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\tdisplay: block;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t.action-grid {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(4, 1fr);\n\t\tgap: 20rpx;\n\t}\n\t\n\t.action-item {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tpadding: 20rpx;\n\t\tborder-radius: 12rpx;\n\t\tbackground: #f8f9fa;\n\t}\n\t\n\t.action-icon {\n\t\tfont-size: 40rpx;\n\t\tmargin-bottom: 12rpx;\n\t}\n\t\n\t.action-text {\n\t\tfont-size: 24rpx;\n\t\tcolor: #666;\n\t\ttext-align: center;\n\t}\n\t\n\t.recent-activities, .my-teams {\n\t\tmargin: 20rpx;\n\t\tbackground: white;\n\t\tborder-radius: 16rpx;\n\t\tpadding: 30rpx;\n\t}\n\t\n\t.section-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t.more-link {\n\t\tfont-size: 24rpx;\n\t\tcolor: #007aff;\n\t}\n\t\n\t.activity-item, .team-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 20rpx 0;\n\t\tborder-bottom: 1rpx solid #f0f0f0;\n\t}\n\t\n\t.activity-item:last-child, .team-item:last-child {\n\t\tborder-bottom: none;\n\t}\n\t\n\t.activity-info, .team-info {\n\t\tflex: 1;\n\t}\n\t\n\t.activity-title, .team-name {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\tdisplay: block;\n\t\tmargin-bottom: 8rpx;\n\t\tline-height: 1.3;\n\t\tword-wrap: break-word;\n\t\tword-break: break-all;\n\t\t/* ÈôêÂà∂ÊúÄÂ§öÊòæÁ§∫1Ë°å */\n\t\tdisplay: -webkit-box;\n\t\t-webkit-line-clamp: 1;\n\t\t-webkit-box-orient: vertical;\n\t\toverflow: hidden;\n\t}\n\t\n\t.activity-team, .activity-time, .team-members {\n\t\tfont-size: 24rpx;\n\t\tcolor: #666;\n\t\tdisplay: block;\n\t\tmargin-bottom: 4rpx;\n\t}\n\t\n\t.activity-status, .team-role {\n\t\tfont-size: 20rpx;\n\t\tpadding: 8rpx 16rpx;\n\t\tborder-radius: 12rpx;\n\t\tcolor: white;\n\t\tfont-weight: bold;\n\t}\n\t\n\t.activity-status.upcoming {\n\t\tbackground: #007aff;\n\t}\n\t\n\t.activity-status.ongoing {\n\t\tbackground: #28a745;\n\t}\n\t\n\t.activity-status.ended {\n\t\tbackground: #6c757d;\n\t}\n\t\n\t.team-role.admin {\n\t\tbackground: #ff3b30;\n\t}\n\t\n\t.team-role.member {\n\t\tbackground: #007aff;\n\t}\n\t\n\t.team-avatar {\n\t\twidth: 60rpx;\n\t\theight: 60rpx;\n\t\tborder-radius: 30rpx;\n\t\tbackground: #007aff;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tcolor: white;\n\t\tfont-size: 24rpx;\n\t\tfont-weight: bold;\n\t\tmargin-right: 20rpx;\n\t}\n\t\n\t.empty-state {\n\t\ttext-align: center;\n\t\tpadding: 60rpx 20rpx;\n\t}\n\t\n\t.empty-icon {\n\t\tfont-size: 80rpx;\n\t\tdisplay: block;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t.empty-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #999;\n\t}\n</style>\n","import MiniProgramPage from 'C:/vscode/kirojianlu/jianlu-uniapp/pages/home/home.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","formatDate","getActivityStatus","getActivityStatusText","bannerApi","activityApi","groupApi","envConfig","showSuccess"],"mappings":";;;;;AA+JC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,UAAU,CAAE;AAAA,MACZ,aAAa;AAAA,MACb,kBAAkB,CAAE;AAAA,MACpB,SAAS,CAAE;AAAA,MACX,YAAY,CAAE;AAAA;AAAA,MACd,SAAS;AAAA,IACV;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,WAAWA,cAAAA,MAAI,eAAe,UAAU,KAAK,CAAC;AACnD,SAAK,SAAS;AAAA,EACd;AAAA,EACD,SAAS;AACR,SAAK,SAAS;AAAA,EACd;AAAA,EACD,oBAAoB;AACnB,SAAK,WAAW,QAAQ,MAAM;AAC7BA,oBAAAA,MAAI,oBAAoB;AAAA,KACxB;AAAA,EACD;AAAA,EACD,SAAS;AAAA,gBACRC,YAAU;AAAA,IACV,mBAAAC,YAAiB;AAAA,IACjB,uBAAAC,YAAqB;AAAA;AAAA,IAGrB,MAAM,WAAW;AAChB,WAAK,UAAU;AACf,UAAI;AACH,cAAM,QAAQ,IAAI;AAAA,UACjB,KAAK,YAAa;AAAA,UAClB,KAAK,qBAAsB;AAAA,UAC3B,KAAK,YAAa;AAAA,UAClB,KAAK,gBAAgB;AAAA,SACrB;AAAA,MACA,SAAO,OAAO;AACfH,sBAAAA,mDAAc,WAAW,KAAK;AAAA,MAC/B,UAAU;AACT,aAAK,UAAU;AAAA,MAChB;AAAA,IACA;AAAA;AAAA,IAGD,MAAM,cAAc;AACnB,UAAI;AACH,cAAM,WAAW,MAAMI,UAAS,UAAC,QAAQ;AACzC,YAAI,SAAS,SAAS;AAErB,eAAK,aAAa,MAAM,QAAQ,SAAS,IAAI,IAAI,SAAS,OAAO,CAAC;AAClEJ,8BAAY,MAAA,OAAA,8BAAA,YAAY,KAAK,WAAW,QAAQ,GAAG;AAAA,eAC7C;AACNA,wBAAc,MAAA,MAAA,SAAA,8BAAA,YAAY,SAAS,OAAO;AAC1C,eAAK,aAAa,CAAC;AAAA,QACpB;AAAA,MACC,SAAO,OAAO;AACfA,sBAAAA,mDAAc,YAAY,KAAK;AAC/B,aAAK,aAAa,CAAC;AAAA,MACpB;AAAA,IACA;AAAA;AAAA,IAGD,MAAM,uBAAuB;AAC5B,UAAI;AACH,cAAM,WAAW,MAAMK,UAAW,YAAC,QAAQ;AAC3C,YAAI,SAAS,SAAS;AAErB,gBAAM,aAAa,SAAS,KAAK,cAAc,SAAS,QAAQ,CAAC;AACjE,eAAK,mBAAmB,MAAM,QAAQ,UAAU,IAAI,WAAW,MAAM,GAAG,CAAC,IAAI,CAAC;AAAA,QAC/E;AAAA,MACC,SAAO,OAAO;AACfL,sBAAAA,mDAAc,WAAW,KAAK;AAAA,MAC/B;AAAA,IACA;AAAA;AAAA,IAGD,MAAM,cAAc;AACnB,UAAI;AACH,cAAM,WAAW,MAAMM,UAAQ,SAAC,QAAQ;AACxC,YAAI,SAAS,SAAS;AAErB,gBAAM,QAAQ,SAAS,KAAK,SAAS,SAAS,QAAQ,CAAC;AACvD,eAAK,UAAU,MAAM,QAAQ,KAAK,IAAI,MAAM,MAAM,GAAG,CAAC,IAAI,CAAC;AAAA,QAC5D;AAAA,MACC,SAAO,OAAO;AACfN,sBAAAA,mDAAc,WAAW,KAAK;AAAA,MAC/B;AAAA,IACA;AAAA;AAAA,IAGD,MAAM,kBAAkB;AAEvB,WAAK,cAAc;AAAA,IACnB;AAAA;AAAA,IAGD,eAAe;AACdA,oBAAAA,MAAI,UAAU;AAAA,QACb,KAAK;AAAA,OACL;AAAA,IACD;AAAA;AAAA,IAGD,iBAAiB;AAChBA,oBAAAA,MAAI,UAAU;AAAA,QACb,KAAK;AAAA,OACL;AAAA,IACD;AAAA;AAAA,IAGD,YAAY;AACXA,oBAAAA,MAAI,UAAU;AAAA,QACb,KAAK;AAAA,OACL;AAAA,IACD;AAAA;AAAA,IAGD,YAAY,UAAU;AACrB,UAAI,CAAC;AAAU,eAAO;AAGtB,UAAI,SAAS,WAAW,SAAS,KAAK,SAAS,WAAW,UAAU,GAAG;AACtE,eAAO;AAAA,MACR;AAGA,YAAM,UAAUO,WAAAA,UAAU;AAC1B,aAAO,WAAW,SAAS,WAAW,GAAG,IAAI,WAAW,MAAM;AAAA,IAC9D;AAAA;AAAA,IAGD,aAAa,GAAG;AACfP,oBAAAA,MAAc,MAAA,SAAA,8BAAA,WAAW,CAAC;AAC1BA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,QACN,UAAU;AAAA,OACV;AAAA,IACD;AAAA;AAAA,IAGD,YAAY,QAAQ;AACnBA,oBAAAA,MAAA,MAAA,OAAA,8BAAY,UAAU,MAAM;AAG5B,UAAI,OAAO,UAAU;AAEpB,YAAI,OAAO,SAAS,WAAW,SAAS,KAAK,OAAO,SAAS,WAAW,UAAU,GAAG;AAEpFA,wBAAAA,MAAI,iBAAiB;AAAA,YACpB,MAAM,OAAO;AAAA,YACb,SAAS,MAAM;AACdA,4BAAAA,MAAI,UAAU;AAAA,gBACb,OAAO;AAAA,gBACP,SAAS;AAAA,gBACT,YAAY;AAAA,eACZ;AAAA,YACF;AAAA,WACA;AAAA,eACK;AAEN,cAAI,OAAO,SAAS,WAAW,GAAG,GAAG;AAEpCA,0BAAAA,MAAI,WAAW;AAAA,cACd,KAAK,OAAO;AAAA,aACZ,EAAE,MAAM,MAAM;AAEdA,4BAAAA,MAAI,UAAU;AAAA,gBACb,KAAK,OAAO;AAAA,eACZ,EAAE,MAAM,MAAM;AACdA,8BAAAA,MAAI,UAAU;AAAA,kBACb,OAAO;AAAA,kBACP,MAAM;AAAA,iBACN;AAAA,eACD;AAAA,aACD;AAAA,UACF;AAAA,QACD;AAAA,aACM;AAENA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO,OAAO,SAAS;AAAA,UACvB,SAAS,OAAO,eAAe;AAAA,UAC/B,YAAY;AAAA,SACZ;AAAA,MACF;AAAA,IACA;AAAA;AAAA,IAGD,aAAa;AACZA,oBAAAA,MAAI,UAAU;AAAA,QACb,KAAK;AAAA,OACL;AAAA,IAED;AAAA;AAAA,IAGD,iBAAiB;AAChBA,oBAAAA,MAAI,UAAU;AAAA,QACb,KAAK;AAAA,OACL;AAAA,IACD;AAAA;AAAA,IAGD,WAAW;AACVA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,SAAS;AAAA,QACT,UAAU;AAAA,QACV,SAAS,CAAC,QAAQ;AACjB,cAAI,IAAI,WAAW,IAAI,SAAS;AAE/BQ,wBAAAA,YAAY,QAAQ;AACpB,iBAAK,YAAY;AAAA,UAClB;AAAA,QACD;AAAA,OACA;AAAA,IACD;AAAA;AAAA,IAGD,eAAe;AACdR,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,OACN;AAAA,IACD;AAAA;AAAA,IAGD,aAAa,UAAU;AAEtBA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO,SAAS;AAAA,QAChB,SAAS,OAAOC,YAAU,WAAC,SAAS,YAAY,mBAAmB,CAAC;AAAA,MAAS,SAAS,SAAS;AAAA,QAC/F,YAAY;AAAA,OACZ;AAAA,IACD;AAAA;AAAA,IAGD,SAAS,MAAM;AAEdD,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO,KAAK;AAAA,QACZ,SAAS,SAAS,KAAK,YAAY;AAAA,QAAW,KAAK,SAAS,UAAU,QAAQ,IAAI;AAAA,QAClF,YAAY;AAAA,OACZ;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvZD,GAAG,WAAW,eAAe;"}