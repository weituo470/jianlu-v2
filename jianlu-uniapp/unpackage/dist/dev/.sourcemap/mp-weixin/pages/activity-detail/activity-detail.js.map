{"version":3,"file":"activity-detail.js","sources":["pages/activity-detail/activity-detail.vue","../../../HBuilderX.4.56.2025031210/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYWN0aXZpdHktZGV0YWlsL2FjdGl2aXR5LWRldGFpbC52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"activity-detail\">\r\n\t\t<view v-if=\"loading\" class=\"loading-state\">\r\n\t\t\t<text>加载中...</text>\r\n\t\t</view>\r\n\r\n\t\t<view v-else-if=\"activity\" class=\"detail-content\">\r\n\t\t\t<!-- 活动封面 -->\r\n\t\t\t<view class=\"activity-cover\">\r\n\t\t\t\t<image \r\n\t\t\t\t\t:src=\"activity.cover_image || '/static/images/default-activity.png'\" \r\n\t\t\t\t\tclass=\"cover-image\"\r\n\t\t\t\t\tmode=\"aspectFill\">\r\n\t\t\t\t</image>\r\n\t\t\t\t<view class=\"cover-overlay\">\r\n\t\t\t\t\t<view class=\"activity-type\">\r\n\t\t\t\t\t\t{{ getTypeInfo(activity.activity_type).icon }} {{ getTypeInfo(activity.activity_type).name }}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"activity-status\" :style=\"{ backgroundColor: getStatusInfo(activity.status).color }\">\r\n\t\t\t\t\t\t{{ getStatusInfo(activity.status).name }}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 活动基本信息 -->\r\n\t\t\t<view class=\"activity-info\">\r\n\t\t\t\t<view class=\"info-header\">\r\n\t\t\t\t\t<text class=\"activity-title\">{{ activity.title }}</text>\r\n\t\t\t\t\t<view class=\"visibility-info\" v-if=\"activity.visibility === 'team'\">\r\n\t\t\t\t\t\t<text class=\"visibility-badge\">👥 {{ activity.team_name }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<text class=\"activity-description\">{{ activity.description || '暂无描述' }}</text>\r\n\r\n\t\t\t\t<!-- 活动详情 -->\r\n\t\t\t\t<view class=\"detail-section\">\r\n\t\t\t\t\t<view class=\"detail-item\">\r\n\t\t\t\t\t\t<text class=\"detail-icon\">📅</text>\r\n\t\t\t\t\t\t<view class=\"detail-content\">\r\n\t\t\t\t\t\t\t<text class=\"detail-label\">活动时间</text>\r\n\t\t\t\t\t\t\t<text class=\"detail-value\">{{ formatActivityTime(activity.start_time, activity.end_time) }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"detail-item\" v-if=\"activity.location\">\r\n\t\t\t\t\t\t<text class=\"detail-icon\">📍</text>\r\n\t\t\t\t\t\t<view class=\"detail-content\">\r\n\t\t\t\t\t\t\t<text class=\"detail-label\">活动地点</text>\r\n\t\t\t\t\t\t\t<text class=\"detail-value\">{{ activity.location }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"detail-item\">\r\n\t\t\t\t\t\t<text class=\"detail-icon\">👥</text>\r\n\t\t\t\t\t\t<view class=\"detail-content\">\r\n\t\t\t\t\t\t\t<text class=\"detail-label\">参与人数</text>\r\n\t\t\t\t\t\t\t<text class=\"detail-value\">\r\n\t\t\t\t\t\t\t\t{{ activity.registration_count }}{{ activity.max_participants > 0 ? `/${activity.max_participants}` : '' }}人\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"detail-item\" v-if=\"activity.registration_deadline\">\r\n\t\t\t\t\t\t<text class=\"detail-icon\">⏰</text>\r\n\t\t\t\t\t\t<view class=\"detail-content\">\r\n\t\t\t\t\t\t\t<text class=\"detail-label\">报名截止</text>\r\n\t\t\t\t\t\t\t<text class=\"detail-value\">{{ formatDate(activity.registration_deadline) }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"detail-item\" v-if=\"!activity.is_free\">\r\n\t\t\t\t\t\t<text class=\"detail-icon\">💰</text>\r\n\t\t\t\t\t\t<view class=\"detail-content\">\r\n\t\t\t\t\t\t\t<text class=\"detail-label\">活动费用</text>\r\n\t\t\t\t\t\t\t<text class=\"detail-value\">¥{{ activity.base_fee }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"detail-item\">\r\n\t\t\t\t\t\t<text class=\"detail-icon\">👤</text>\r\n\t\t\t\t\t\t<view class=\"detail-content\">\r\n\t\t\t\t\t\t\t<text class=\"detail-label\">组织者</text>\r\n\t\t\t\t\t\t\t<text class=\"detail-value\">{{ activity.creator_name }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 报名进度 -->\r\n\t\t\t\t<view class=\"progress-section\" v-if=\"activity.max_participants > 0\">\r\n\t\t\t\t\t<view class=\"progress-header\">\r\n\t\t\t\t\t\t<text class=\"progress-label\">报名进度</text>\r\n\t\t\t\t\t\t<text class=\"progress-text\">{{ getProgressPercentage(activity) }}%</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"progress-bar\">\r\n\t\t\t\t\t\t<view class=\"progress-fill\" :style=\"{ width: getProgressPercentage(activity) + '%' }\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 用户报名状态 -->\r\n\t\t\t\t<view class=\"registration-info\" v-if=\"activity.user_registered\">\r\n\t\t\t\t\t<view class=\"status-card\" :style=\"{ borderColor: getRegistrationStatusInfo(activity.user_registration_status).color }\">\r\n\t\t\t\t\t\t<text class=\"status-title\">您的报名状态</text>\r\n\t\t\t\t\t\t<view class=\"status-badge\" :style=\"{ backgroundColor: getRegistrationStatusInfo(activity.user_registration_status).color }\">\r\n\t\t\t\t\t\t\t{{ getRegistrationStatusInfo(activity.user_registration_status).name }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"status-desc\">{{ getRegistrationStatusInfo(activity.user_registration_status).description }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 活动图片 -->\r\n\t\t\t<view class=\"images-section\" v-if=\"activity.images && activity.images.length > 0\">\r\n\t\t\t\t<text class=\"section-title\">活动图片</text>\r\n\t\t\t\t<scroll-view class=\"images-scroll\" scroll-x=\"true\" show-scrollbar=\"false\">\r\n\t\t\t\t\t<view class=\"image-item\" v-for=\"(image, index) in activity.images\" :key=\"index\" @tap=\"previewImage(image, activity.images)\">\r\n\t\t\t\t\t\t<image :src=\"image\" class=\"activity-image\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 底部操作栏 -->\r\n\t\t<view class=\"action-bar\" v-if=\"activity\">\r\n\t\t\t<view class=\"action-buttons\">\r\n\t\t\t\t<!-- 报名按钮 -->\r\n\t\t\t\t<button \r\n\t\t\t\t\tv-if=\"!activity.user_registered && canRegisterResult.canRegister\"\r\n\t\t\t\t\tclass=\"btn btn-primary\"\r\n\t\t\t\t\t@tap=\"showRegistrationModal\">\r\n\t\t\t\t\t立即报名\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<!-- 取消报名按钮 -->\r\n\t\t\t\t<button \r\n\t\t\t\t\tv-else-if=\"activity.user_registered && activity.user_registration_status !== 'cancelled'\"\r\n\t\t\t\t\tclass=\"btn btn-outline\"\r\n\t\t\t\t\t@tap=\"cancelRegistration\">\r\n\t\t\t\t\t取消报名\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<!-- 不可报名提示 -->\r\n\t\t\t\t<view v-else-if=\"!canRegisterResult.canRegister\" class=\"disabled-info\">\r\n\t\t\t\t\t<text class=\"disabled-text\">{{ canRegisterResult.reason }}</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 管理按钮 -->\r\n\t\t\t\t<button \r\n\t\t\t\t\tv-if=\"activity.user_can_manage\"\r\n\t\t\t\t\tclass=\"btn btn-secondary\"\r\n\t\t\t\t\t@tap=\"manageActivity\">\r\n\t\t\t\t\t管理活动\r\n\t\t\t\t</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 报名弹窗 -->\r\n\t\t<view class=\"modal-overlay\" v-if=\"showModal\" @tap=\"hideModal\">\r\n\t\t\t<view class=\"modal-content\" @tap.stop>\r\n\t\t\t\t<view class=\"modal-header\">\r\n\t\t\t\t\t<text class=\"modal-title\">报名活动</text>\r\n\t\t\t\t\t<text class=\"modal-close\" @tap=\"hideModal\">×</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"modal-body\">\r\n\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t<text class=\"form-label\">真实姓名 *</text>\r\n\t\t\t\t\t\t<input class=\"form-input\" v-model=\"registrationForm.real_name\" placeholder=\"请输入真实姓名\" />\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t<text class=\"form-label\">联系电话 *</text>\r\n\t\t\t\t\t\t<input class=\"form-input\" v-model=\"registrationForm.phone\" placeholder=\"请输入联系电话\" type=\"number\" />\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t<text class=\"form-label\">备注信息</text>\r\n\t\t\t\t\t\t<textarea class=\"form-textarea\" v-model=\"registrationForm.notes\" placeholder=\"请输入备注信息（可选）\"></textarea>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"modal-footer\">\r\n\t\t\t\t\t<button class=\"btn btn-outline\" @tap=\"hideModal\">取消</button>\r\n\t\t\t\t\t<button class=\"btn btn-primary\" @tap=\"submitRegistration\" :disabled=\"submitting\">\r\n\t\t\t\t\t\t{{ submitting ? '提交中...' : '确认报名' }}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { activityApi, activityUtils } from '../../api/activity.js'\r\n\timport { showError, showSuccess, showConfirm, formatDate } from '../../utils/index.js'\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tactivityId: null,\r\n\t\t\t\tactivity: null,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tshowModal: false,\r\n\t\t\t\tsubmitting: false,\r\n\t\t\t\tregistrationForm: {\r\n\t\t\t\t\treal_name: '',\r\n\t\t\t\t\tphone: '',\r\n\t\t\t\t\tnotes: ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\tcanRegisterResult() {\r\n\t\t\t\tif (!this.activity) return { canRegister: false, reason: '活动不存在' }\r\n\t\t\t\treturn activityUtils.canRegister(this.activity)\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonLoad(options) {\r\n\t\t\tif (options.id) {\r\n\t\t\t\tthis.activityId = parseInt(options.id)\r\n\t\t\t\tthis.loadActivityDetail()\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t// 加载活动详情\r\n\t\t\tasync loadActivityDetail() {\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await activityApi.getDetail(this.activityId)\r\n\t\t\t\t\tif (response.success) {\r\n\t\t\t\t\t\tthis.activity = response.data\r\n\t\t\t\t\t\t// 设置页面标题\r\n\t\t\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\t\t\ttitle: this.activity.title || '活动详情'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('加载活动详情失败:', error)\r\n\t\t\t\t\tshowError('加载活动详情失败')\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 显示报名弹窗\r\n\t\t\tshowRegistrationModal() {\r\n\t\t\t\t// 预填用户信息\r\n\t\t\t\tconst userInfo = uni.getStorageSync('userInfo')\r\n\t\t\t\tif (userInfo) {\r\n\t\t\t\t\tthis.registrationForm.real_name = userInfo.nickname || ''\r\n\t\t\t\t}\r\n\t\t\t\tthis.showModal = true\r\n\t\t\t},\r\n\r\n\t\t\t// 隐藏报名弹窗\r\n\t\t\thideModal() {\r\n\t\t\t\tthis.showModal = false\r\n\t\t\t\tthis.registrationForm = {\r\n\t\t\t\t\treal_name: '',\r\n\t\t\t\t\tphone: '',\r\n\t\t\t\t\tnotes: ''\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 提交报名\r\n\t\t\tasync submitRegistration() {\r\n\t\t\t\t// 验证表单\r\n\t\t\t\tif (!this.registrationForm.real_name.trim()) {\r\n\t\t\t\t\tshowError('请输入真实姓名')\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.registrationForm.phone.trim()) {\r\n\t\t\t\t\tshowError('请输入联系电话')\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.submitting = true\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await activityApi.register(this.activityId, this.registrationForm)\r\n\t\t\t\t\tif (response.success) {\r\n\t\t\t\t\t\tshowSuccess(response.message || '报名成功')\r\n\t\t\t\t\t\tthis.hideModal()\r\n\t\t\t\t\t\tthis.loadActivityDetail() // 刷新活动详情\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('报名失败:', error)\r\n\t\t\t\t\tshowError(error.response?.data?.message || '报名失败')\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.submitting = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 取消报名\r\n\t\t\tasync cancelRegistration() {\r\n\t\t\t\tconst confirmed = await showConfirm('确定要取消报名吗？')\r\n\t\t\t\tif (!confirmed) return\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await activityApi.cancelRegistration(this.activityId)\r\n\t\t\t\t\tif (response.success) {\r\n\t\t\t\t\t\tshowSuccess('取消报名成功')\r\n\t\t\t\t\t\tthis.loadActivityDetail() // 刷新活动详情\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('取消报名失败:', error)\r\n\t\t\t\t\tshowError('取消报名失败')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 管理活动\r\n\t\t\tmanageActivity() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/activity-manage/activity-manage?id=${this.activityId}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 预览图片\r\n\t\t\tpreviewImage(current, urls) {\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\tcurrent,\r\n\t\t\t\t\turls\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 获取类型信息\r\n\t\t\tgetTypeInfo(type) {\r\n\t\t\t\treturn activityUtils.getTypeInfo(type)\r\n\t\t\t},\r\n\r\n\t\t\t// 获取状态信息\r\n\t\t\tgetStatusInfo(status) {\r\n\t\t\t\treturn activityUtils.getStatusInfo(status)\r\n\t\t\t},\r\n\r\n\t\t\t// 获取报名状态信息\r\n\t\t\tgetRegistrationStatusInfo(status) {\r\n\t\t\t\treturn activityUtils.getRegistrationStatusInfo(status)\r\n\t\t\t},\r\n\r\n\t\t\t// 格式化活动时间\r\n\t\t\tformatActivityTime(startTime, endTime) {\r\n\t\t\t\treturn activityUtils.formatActivityTime(startTime, endTime)\r\n\t\t\t},\r\n\r\n\t\t\t// 格式化日期\r\n\t\t\tformatDate(date) {\r\n\t\t\t\treturn formatDate(date, 'YYYY年MM月DD日 HH:mm')\r\n\t\t\t},\r\n\r\n\t\t\t// 获取进度百分比\r\n\t\t\tgetProgressPercentage(activity) {\r\n\t\t\t\treturn activityUtils.getProgressPercentage(activity)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.activity-detail {\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tmin-height: 100vh;\r\n\t\tpadding-bottom: 120rpx;\r\n\t}\r\n\r\n\t.loading-state {\r\n\t\ttext-align: center;\r\n\t\tpadding: 100rpx 40rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.activity-cover {\r\n\t\tposition: relative;\r\n\t\theight: 400rpx;\r\n\t}\r\n\r\n\t.cover-image {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.cover-overlay {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground: linear-gradient(to bottom, rgba(0,0,0,0.3), transparent);\r\n\t\tpadding: 30rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: flex-start;\r\n\t}\r\n\r\n\t.activity-type {\r\n\t\tbackground-color: rgba(0, 0, 0, 0.6);\r\n\t\tcolor: white;\r\n\t\tpadding: 12rpx 20rpx;\r\n\t\tborder-radius: 25rpx;\r\n\t\tfont-size: 26rpx;\r\n\t}\r\n\r\n\t.activity-status {\r\n\t\tcolor: white;\r\n\t\tpadding: 12rpx 20rpx;\r\n\t\tborder-radius: 25rpx;\r\n\t\tfont-size: 26rpx;\r\n\t}\r\n\r\n\t.activity-info {\r\n\t\tbackground-color: white;\r\n\t\tmargin: 20rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 40rpx;\r\n\t}\r\n\r\n\t.info-header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: flex-start;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.activity-title {\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t\tflex: 1;\r\n\t\tmargin-right: 20rpx;\r\n\t\tline-height: 1.4;\r\n\t\tword-wrap: break-word;\r\n\t\tword-break: break-all;\r\n\t}\r\n\r\n\t.visibility-badge {\r\n\t\tbackground-color: #e3f2fd;\r\n\t\tcolor: #1976d2;\r\n\t\tpadding: 8rpx 16rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\r\n\t.activity-description {\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #666;\r\n\t\tline-height: 1.6;\r\n\t\tmargin-bottom: 40rpx;\r\n\t\tword-wrap: break-word;\r\n\t\tword-break: break-all;\r\n\t}\r\n\r\n\t.detail-section {\r\n\t\tborder-top: 1rpx solid #f0f0f0;\r\n\t\tpadding-top: 30rpx;\r\n\t}\r\n\r\n\t.detail-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-start;\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\r\n\t.detail-icon {\r\n\t\tfont-size: 32rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t\twidth: 40rpx;\r\n\t\tmargin-top: 4rpx;\r\n\t}\r\n\r\n\t.detail-content {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.detail-label {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #999;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 8rpx;\r\n\t}\r\n\r\n\t.detail-value {\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #333;\r\n\t\tdisplay: block;\r\n\t\tline-height: 1.4;\r\n\t\tword-wrap: break-word;\r\n\t\tword-break: break-all;\r\n\t}\r\n\r\n\t.progress-section {\r\n\t\tmargin-top: 40rpx;\r\n\t\tpadding-top: 30rpx;\r\n\t\tborder-top: 1rpx solid #f0f0f0;\r\n\t}\r\n\r\n\t.progress-header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 16rpx;\r\n\t}\r\n\r\n\t.progress-label {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.progress-text {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #007aff;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.progress-bar {\r\n\t\theight: 12rpx;\r\n\t\tbackground-color: #f0f0f0;\r\n\t\tborder-radius: 6rpx;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.progress-fill {\r\n\t\theight: 100%;\r\n\t\tbackground-color: #007aff;\r\n\t\ttransition: width 0.3s;\r\n\t}\r\n\r\n\t.registration-info {\r\n\t\tmargin-top: 40rpx;\r\n\t}\r\n\r\n\t.status-card {\r\n\t\tborder: 2rpx solid;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 30rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.status-title {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 16rpx;\r\n\t}\r\n\r\n\t.status-badge {\r\n\t\tdisplay: inline-block;\r\n\t\tcolor: white;\r\n\t\tpadding: 8rpx 20rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tmargin-bottom: 16rpx;\r\n\t}\r\n\r\n\t.status-desc {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.images-section {\r\n\t\tbackground-color: white;\r\n\t\tmargin: 20rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 40rpx;\r\n\t}\r\n\r\n\t.section-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\r\n\t.images-scroll {\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.image-item {\r\n\t\tdisplay: inline-block;\r\n\t\tmargin-right: 20rpx;\r\n\t\tborder-radius: 12rpx;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.activity-image {\r\n\t\twidth: 200rpx;\r\n\t\theight: 200rpx;\r\n\t}\r\n\r\n\t.action-bar {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbackground-color: white;\r\n\t\tpadding: 30rpx;\r\n\t\tborder-top: 1rpx solid #f0f0f0;\r\n\t\tz-index: 100;\r\n\t}\r\n\r\n\t.action-buttons {\r\n\t\tdisplay: flex;\r\n\t\tgap: 20rpx;\r\n\t}\r\n\r\n\t.btn {\r\n\t\tflex: 1;\r\n\t\theight: 88rpx;\r\n\t\tborder-radius: 44rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tborder: none;\r\n\t}\r\n\r\n\t.btn-primary {\r\n\t\tbackground-color: #007aff;\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t.btn-outline {\r\n\t\tbackground-color: transparent;\r\n\t\tcolor: #007aff;\r\n\t\tborder: 2rpx solid #007aff;\r\n\t}\r\n\r\n\t.btn-secondary {\r\n\t\tbackground-color: #f8f9fa;\r\n\t\tcolor: #333;\r\n\t\tborder: 2rpx solid #e9ecef;\r\n\t}\r\n\r\n\t.disabled-info {\r\n\t\tflex: 1;\r\n\t\ttext-align: center;\r\n\t\tpadding: 30rpx;\r\n\t}\r\n\r\n\t.disabled-text {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\t/* 弹窗样式 */\r\n\t.modal-overlay {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tz-index: 1000;\r\n\t}\r\n\r\n\t.modal-content {\r\n\t\tbackground-color: white;\r\n\t\tborder-radius: 16rpx;\r\n\t\twidth: 90%;\r\n\t\tmax-width: 600rpx;\r\n\t\tmax-height: 80vh;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.modal-header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 40rpx;\r\n\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\t}\r\n\r\n\t.modal-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.modal-close {\r\n\t\tfont-size: 48rpx;\r\n\t\tcolor: #999;\r\n\t\twidth: 60rpx;\r\n\t\theight: 60rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.modal-body {\r\n\t\tpadding: 40rpx;\r\n\t}\r\n\r\n\t.form-item {\r\n\t\tmargin-bottom: 40rpx;\r\n\t}\r\n\r\n\t.form-label {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 16rpx;\r\n\t}\r\n\r\n\t.form-input,\r\n\t.form-textarea {\r\n\t\twidth: 100%;\r\n\t\tpadding: 20rpx;\r\n\t\tborder: 2rpx solid #e9ecef;\r\n\t\tborder-radius: 12rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.form-textarea {\r\n\t\theight: 120rpx;\r\n\t\tresize: none;\r\n\t}\r\n\r\n\t.modal-footer {\r\n\t\tdisplay: flex;\r\n\t\tgap: 20rpx;\r\n\t\tpadding: 40rpx;\r\n\t\tborder-top: 1rpx solid #f0f0f0;\r\n\t}\r\n</style>\r\n","import MiniProgramPage from 'C:/D/re/kirojianlu/jianlu-uniapp/pages/activity-detail/activity-detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["activityUtils","activityApi","uni","showError","showSuccess","showConfirm","formatDate"],"mappings":"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"}