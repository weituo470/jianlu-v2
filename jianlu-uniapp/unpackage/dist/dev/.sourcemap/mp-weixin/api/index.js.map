{"version":3,"file":"index.js","sources":["api/index.js"],"sourcesContent":["import { get, post, put, del } from '../utils/request.js'\r\n\r\n// 认证相关API\r\nexport const authApi = {\r\n\t// 用户登录\r\n\tlogin: (data) => post('/auth/login', data),\r\n\t\r\n\t// 用户注册\r\n\tregister: (data) => post('/auth/register', data),\r\n\t\r\n\t// 微信登录\r\n\twechatLogin: (data) => post('/auth/wechat-login', data)\r\n}\r\n\r\n// 轮播图相关API\r\nexport const bannerApi = {\r\n\t// 获取轮播图列表（只获取激活的）\r\n\tgetList: () => get('/banners/public/active')\r\n}\r\n\r\n// 日记相关API\r\nexport const diaryApi = {\r\n\t// 获取日记列表\r\n\tgetList: (page = 1, limit = 10) => get(`/diary?page=${page}&limit=${limit}`),\r\n\t\r\n\t// 获取日记详情\r\n\tgetDetail: (id) => get(`/diary/${id}`),\r\n\t\r\n\t// 创建日记\r\n\tcreate: (data) => post('/diary', data),\r\n\t\r\n\t// 更新日记\r\n\tupdate: (id, data) => put(`/diary/${id}`, data),\r\n\t\r\n\t// 删除日记\r\n\tdelete: (id) => del(`/diary/${id}`)\r\n}\r\n\r\n// 群组相关API\r\nexport const groupApi = {\r\n\t// 获取群组列表（所有可加入的团队）\r\n\tgetList: () => get('/miniapp/teams'),\r\n\r\n\t// 获取我的团队列表\r\n\tgetMyTeams: () => get('/miniapp/my-teams'),\r\n\r\n\t// 获取群组详情\r\n\tgetDetail: (id) => get(`/miniapp/teams/${id}`),\r\n\r\n\t// 创建群组\r\n\tcreate: (data) => post('/miniapp/teams', data),\r\n\r\n\t// 加入群组\r\n\tjoin: (id) => post(`/miniapp/teams/${id}/join`),\r\n\r\n\t// 离开群组\r\n\tleave: (id) => post(`/miniapp/teams/${id}/leave`),\r\n\r\n\t// 申请加入团队\r\n\tapply: (id, data) => post(`/teams/${id}/apply`, data),\r\n\r\n\t// 获取我的申请记录\r\n\tgetMyApplications: (params) => get('/miniapp/my-team-applications', params),\r\n\r\n\t// 团队设置\r\n\tupdateTeamSettings: (teamId, data) => put(`/miniapp/teams/${teamId}/settings`, data),\r\n\r\n\t// 获取团队申请列表（团队负责人）\r\n\tgetTeamApplications: (teamId) => get(`/miniapp/teams/${teamId}/applications`),\r\n\r\n\t// 批准申请\r\n\tapproveApplication: (teamId, applicationId, data) => post(`/miniapp/teams/${teamId}/applications/${applicationId}/approve`, data),\r\n\r\n\t// 拒绝申请\r\n\trejectApplication: (teamId, applicationId, data) => post(`/miniapp/teams/${teamId}/applications/${applicationId}/reject`, data),\r\n\r\n\t// 取消申请\r\n\tcancelApplication: (memberId) => del(`/teams/applications/${memberId}`),\r\n\r\n\t// 获取申请统计\r\n\tgetApplicationStats: (id) => get(`/miniapp/teams/${id}/application-stats`),\r\n\r\n\t// 获取团队成员列表\r\n\tgetTeamMembers: (id, params) => get(`/miniapp/teams/${id}/members`, params),\r\n\r\n\t// 获取团队详情\r\n\tgetTeamDetail: (id) => get(`/miniapp/teams/${id}`),\r\n\r\n\t// 获取团队类型列表\r\n\tgetTeamTypes: () => get('/miniapp/team-types')\r\n}\r\n\r\n// 活动相关API（使用小程序专用API）\r\nexport const activityApi = {\r\n\t// 获取活动列表\r\n\tgetList: (params = {}) => {\r\n\t\t// 兼容旧版本的groupId参数\r\n\t\tif (typeof params === 'string' || typeof params === 'number') {\r\n\t\t\treturn get(`/activity?group_id=${params}`)\r\n\t\t}\r\n\t\t// 使用小程序专用活动API\r\n\t\treturn get('/miniapp/activities', params)\r\n\t},\r\n\r\n\t// 获取活动详情\r\n\tgetDetail: (id) => get(`/miniapp/activities/${id}`),\r\n\r\n\t// 创建活动\r\n\tcreate: (data) => post('/miniapp/activities', data),\r\n\r\n\t// 更新活动\r\n\tupdate: (id, data) => put(`/miniapp/activities/${id}`, data),\r\n\r\n\t// 删除活动\r\n\tdelete: (id) => del(`/miniapp/activities/${id}`),\r\n\r\n\t// 报名活动\r\n\tregister: (id, data) => post(`/miniapp/activities/${id}/register`, data),\r\n\r\n\t// 取消报名\r\n\tcancelRegistration: (id) => del(`/miniapp/activities/${id}/register`),\r\n\r\n\t// 获取活动类型列表\r\n\tgetTypes: () => get('/miniapp/activity-types'),\r\n\r\n\t// 参加活动（兼容旧版本）\r\n\tjoin: (id) => post(`/activity/${id}/join`),\r\n\r\n\t// 取消参加活动（兼容旧版本）\r\n\tleave: (id) => post(`/activity/${id}/leave`)\r\n}\r\n\r\n// 用户相关API\r\nexport const userApi = {\r\n\t// 获取用户信息\r\n\tgetProfile: () => get('/user/profile'),\r\n\t\r\n\t// 更新用户信息\r\n\tupdateProfile: (data) => put('/user/profile', data),\r\n\t\r\n\t// 搜索用户\r\n\tsearch: (query) => get(`/user/search?q=${encodeURIComponent(query)}`),\r\n\t\r\n\t}\r\n"],"names":["post","get","put","del"],"mappings":";;AAGY,MAAC,UAAU;AAAA;AAAA,EAEtB,OAAO,CAAC,SAASA,mBAAK,eAAe,IAAI;AAAA;AAAA,EAGzC,UAAU,CAAC,SAASA,mBAAK,kBAAkB,IAAI;AAAA;AAAA,EAG/C,aAAa,CAAC,SAASA,mBAAK,sBAAsB,IAAI;AACvD;AAGY,MAAC,YAAY;AAAA;AAAA,EAExB,SAAS,MAAMC,cAAG,IAAC,wBAAwB;AAC5C;AAqBY,MAAC,WAAW;AAAA;AAAA,EAEvB,SAAS,MAAMA,cAAG,IAAC,gBAAgB;AAAA;AAAA,EAGnC,YAAY,MAAMA,cAAG,IAAC,mBAAmB;AAAA;AAAA,EAGzC,WAAW,CAAC,OAAOA,cAAAA,IAAI,kBAAkB,EAAE,EAAE;AAAA;AAAA,EAG7C,QAAQ,CAAC,SAASD,mBAAK,kBAAkB,IAAI;AAAA;AAAA,EAG7C,MAAM,CAAC,OAAOA,cAAI,KAAC,kBAAkB,EAAE,OAAO;AAAA;AAAA,EAG9C,OAAO,CAAC,OAAOA,cAAI,KAAC,kBAAkB,EAAE,QAAQ;AAAA;AAAA,EAGhD,OAAO,CAAC,IAAI,SAASA,cAAI,KAAC,UAAU,EAAE,UAAU,IAAI;AAAA;AAAA,EAGpD,mBAAmB,CAAC,WAAWC,kBAAI,iCAAiC,MAAM;AAAA;AAAA,EAG1E,oBAAoB,CAAC,QAAQ,SAASC,cAAG,IAAC,kBAAkB,MAAM,aAAa,IAAI;AAAA;AAAA,EAGnF,qBAAqB,CAAC,WAAWD,cAAG,IAAC,kBAAkB,MAAM,eAAe;AAAA;AAAA,EAG5E,oBAAoB,CAAC,QAAQ,eAAe,SAASD,cAAAA,KAAK,kBAAkB,MAAM,iBAAiB,aAAa,YAAY,IAAI;AAAA;AAAA,EAGhI,mBAAmB,CAAC,QAAQ,eAAe,SAASA,cAAAA,KAAK,kBAAkB,MAAM,iBAAiB,aAAa,WAAW,IAAI;AAAA;AAAA,EAG9H,mBAAmB,CAAC,aAAaG,cAAAA,IAAI,uBAAuB,QAAQ,EAAE;AAAA;AAAA,EAGtE,qBAAqB,CAAC,OAAOF,cAAG,IAAC,kBAAkB,EAAE,oBAAoB;AAAA;AAAA,EAGzE,gBAAgB,CAAC,IAAI,WAAWA,cAAG,IAAC,kBAAkB,EAAE,YAAY,MAAM;AAAA;AAAA,EAG1E,eAAe,CAAC,OAAOA,cAAAA,IAAI,kBAAkB,EAAE,EAAE;AAAA;AAAA,EAGjD,cAAc,MAAMA,cAAG,IAAC,qBAAqB;AAC9C;AAGY,MAAC,cAAc;AAAA;AAAA,EAE1B,SAAS,CAAC,SAAS,OAAO;AAEzB,QAAI,OAAO,WAAW,YAAY,OAAO,WAAW,UAAU;AAC7D,aAAOA,kBAAI,sBAAsB,MAAM,EAAE;AAAA,IACzC;AAED,WAAOA,cAAG,IAAC,uBAAuB,MAAM;AAAA,EACxC;AAAA;AAAA,EAGD,WAAW,CAAC,OAAOA,cAAAA,IAAI,uBAAuB,EAAE,EAAE;AAAA;AAAA,EAGlD,QAAQ,CAAC,SAASD,mBAAK,uBAAuB,IAAI;AAAA;AAAA,EAGlD,QAAQ,CAAC,IAAI,SAASE,cAAAA,IAAI,uBAAuB,EAAE,IAAI,IAAI;AAAA;AAAA,EAG3D,QAAQ,CAAC,OAAOC,cAAAA,IAAI,uBAAuB,EAAE,EAAE;AAAA;AAAA,EAG/C,UAAU,CAAC,IAAI,SAASH,cAAI,KAAC,uBAAuB,EAAE,aAAa,IAAI;AAAA;AAAA,EAGvE,oBAAoB,CAAC,OAAOG,cAAG,IAAC,uBAAuB,EAAE,WAAW;AAAA;AAAA,EAGpE,UAAU,MAAMF,cAAG,IAAC,yBAAyB;AAAA;AAAA,EAG7C,MAAM,CAAC,OAAOD,cAAI,KAAC,aAAa,EAAE,OAAO;AAAA;AAAA,EAGzC,OAAO,CAAC,OAAOA,cAAI,KAAC,aAAa,EAAE,QAAQ;AAC5C;AAGY,MAAC,UAAU;AAAA;AAAA,EAEtB,YAAY,MAAMC,cAAG,IAAC,eAAe;AAAA;AAAA,EAGrC,eAAe,CAAC,SAASC,kBAAI,iBAAiB,IAAI;AAAA;AAAA,EAGlD,QAAQ,CAAC,UAAUD,kBAAI,kBAAkB,mBAAmB,KAAK,CAAC,EAAE;AAErE;;;;;;"}