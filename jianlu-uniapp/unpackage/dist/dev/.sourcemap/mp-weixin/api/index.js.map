{"version":3,"file":"index.js","sources":["api/index.js"],"sourcesContent":["import { get, post, put, del } from '../utils/request.js'\n\n// 认证相关API\nexport const authApi = {\n\t// 用户登录\n\tlogin: (data) => post('/auth/login', data),\n\t\n\t// 用户注册\n\tregister: (data) => post('/auth/register', data),\n\t\n\t// 微信登录\n\twechatLogin: (data) => post('/auth/wechat-login', data)\n}\n\n// 轮播图相关API\nexport const bannerApi = {\n\t// 获取轮播图列表（只获取激活的）\n\tgetList: () => get('/banners/public/active')\n}\n\n// 日记相关API\nexport const diaryApi = {\n\t// 获取日记列表\n\tgetList: (page = 1, limit = 10) => get(`/diary?page=${page}&limit=${limit}`),\n\t\n\t// 获取日记详情\n\tgetDetail: (id) => get(`/diary/${id}`),\n\t\n\t// 创建日记\n\tcreate: (data) => post('/diary', data),\n\t\n\t// 更新日记\n\tupdate: (id, data) => put(`/diary/${id}`, data),\n\t\n\t// 删除日记\n\tdelete: (id) => del(`/diary/${id}`)\n}\n\n// 群组相关API\nexport const groupApi = {\n\t// 获取群组列表（所有可加入的团队）\n\tgetList: () => get('/miniapp/teams'),\n\n\t// 获取我的团队列表\n\tgetMyTeams: () => get('/miniapp/my-teams'),\n\n\t// 获取群组详情\n\tgetDetail: (id) => get(`/miniapp/teams/${id}`),\n\n\t// 创建群组\n\tcreate: (data) => post('/miniapp/teams', data),\n\n\t// 加入群组\n\tjoin: (id) => post(`/miniapp/teams/${id}/join`),\n\n\t// 离开群组\n\tleave: (id) => post(`/miniapp/teams/${id}/leave`),\n\n\t// 申请加入团队\n\tapply: (id, data) => post(`/miniapp/teams/${id}/apply`, data),\n\n\t// 获取我的申请记录\n\tgetMyApplications: (params) => get('/miniapp/teams/my-applications', { params }),\n\n\t// 获取团队申请列表（团队负责人）\n\tgetTeamApplications: (id, params) => get(`/miniapp/teams/${id}/applications`, { params }),\n\n\t// 处理申请（批准/拒绝）\n\tprocessApplication: (applicationId, data) => put(`/miniapp/teams/applications/${applicationId}`, data),\n\n\t// 获取申请统计\n\tgetApplicationStats: (id) => get(`/miniapp/teams/${id}/application-stats`),\n\n\t// 获取团队成员列表\n\tgetTeamMembers: (id, params) => get(`/miniapp/teams/${id}/members`, { params }),\n\n\t// 获取团队详情\n\tgetTeamDetail: (id) => get(`/miniapp/teams/${id}`)\n}\n\n// 活动相关API（使用小程序专用API）\nexport const activityApi = {\n\t// 获取活动列表\n\tgetList: (params = {}) => {\n\t\t// 兼容旧版本的groupId参数\n\t\tif (typeof params === 'string' || typeof params === 'number') {\n\t\t\treturn get(`/activity?group_id=${params}`)\n\t\t}\n\t\t// 使用小程序专用活动API\n\t\treturn get('/miniapp/activities', params)\n\t},\n\n\t// 获取活动详情\n\tgetDetail: (id) => get(`/miniapp/activities/${id}`),\n\n\t// 创建活动\n\tcreate: (data) => post('/miniapp/activities', data),\n\n\t// 更新活动\n\tupdate: (id, data) => put(`/miniapp/activities/${id}`, data),\n\n\t// 删除活动\n\tdelete: (id) => del(`/miniapp/activities/${id}`),\n\n\t// 报名活动\n\tregister: (id, data) => post(`/miniapp/activities/${id}/register`, data),\n\n\t// 取消报名\n\tcancelRegistration: (id) => del(`/miniapp/activities/${id}/register`),\n\n\t// 获取活动类型列表\n\tgetTypes: () => get('/miniapp/activity-types'),\n\n\t// 参加活动（兼容旧版本）\n\tjoin: (id) => post(`/activity/${id}/join`),\n\n\t// 取消参加活动（兼容旧版本）\n\tleave: (id) => post(`/activity/${id}/leave`)\n}\n\n// 用户相关API\nexport const userApi = {\n\t// 获取用户信息\n\tgetProfile: () => get('/user/profile'),\n\t\n\t// 更新用户信息\n\tupdateProfile: (data) => put('/user/profile', data),\n\t\n\t// 搜索用户\n\tsearch: (query) => get(`/user/search?q=${encodeURIComponent(query)}`),\n\t\n\t}\n"],"names":["post","get","put","del"],"mappings":";;AAGY,MAAC,UAAU;AAAA;AAAA,EAEtB,OAAO,CAAC,SAASA,mBAAK,eAAe,IAAI;AAAA;AAAA,EAGzC,UAAU,CAAC,SAASA,mBAAK,kBAAkB,IAAI;AAAA;AAAA,EAG/C,aAAa,CAAC,SAASA,mBAAK,sBAAsB,IAAI;AACvD;AAGY,MAAC,YAAY;AAAA;AAAA,EAExB,SAAS,MAAMC,cAAG,IAAC,wBAAwB;AAC5C;AAqBY,MAAC,WAAW;AAAA;AAAA,EAEvB,SAAS,MAAMA,cAAG,IAAC,gBAAgB;AAAA;AAAA,EAGnC,YAAY,MAAMA,cAAG,IAAC,mBAAmB;AAAA;AAAA,EAGzC,WAAW,CAAC,OAAOA,cAAAA,IAAI,kBAAkB,EAAE,EAAE;AAAA;AAAA,EAG7C,QAAQ,CAAC,SAASD,mBAAK,kBAAkB,IAAI;AAAA;AAAA,EAG7C,MAAM,CAAC,OAAOA,cAAI,KAAC,kBAAkB,EAAE,OAAO;AAAA;AAAA,EAG9C,OAAO,CAAC,OAAOA,cAAI,KAAC,kBAAkB,EAAE,QAAQ;AAAA;AAAA,EAGhD,OAAO,CAAC,IAAI,SAASA,cAAI,KAAC,kBAAkB,EAAE,UAAU,IAAI;AAAA;AAAA,EAG5D,mBAAmB,CAAC,WAAWC,cAAAA,IAAI,kCAAkC,EAAE,OAAM,CAAE;AAAA;AAAA,EAG/E,qBAAqB,CAAC,IAAI,WAAWA,kBAAI,kBAAkB,EAAE,iBAAiB,EAAE,QAAQ;AAAA;AAAA,EAGxF,oBAAoB,CAAC,eAAe,SAASC,cAAAA,IAAI,+BAA+B,aAAa,IAAI,IAAI;AAAA;AAAA,EAGrG,qBAAqB,CAAC,OAAOD,cAAG,IAAC,kBAAkB,EAAE,oBAAoB;AAAA;AAAA,EAGzE,gBAAgB,CAAC,IAAI,WAAWA,kBAAI,kBAAkB,EAAE,YAAY,EAAE,QAAQ;AAAA;AAAA,EAG9E,eAAe,CAAC,OAAOA,cAAAA,IAAI,kBAAkB,EAAE,EAAE;AAClD;AAGY,MAAC,cAAc;AAAA;AAAA,EAE1B,SAAS,CAAC,SAAS,OAAO;AAEzB,QAAI,OAAO,WAAW,YAAY,OAAO,WAAW,UAAU;AAC7D,aAAOA,kBAAI,sBAAsB,MAAM,EAAE;AAAA,IACzC;AAED,WAAOA,cAAG,IAAC,uBAAuB,MAAM;AAAA,EACxC;AAAA;AAAA,EAGD,WAAW,CAAC,OAAOA,cAAAA,IAAI,uBAAuB,EAAE,EAAE;AAAA;AAAA,EAGlD,QAAQ,CAAC,SAASD,mBAAK,uBAAuB,IAAI;AAAA;AAAA,EAGlD,QAAQ,CAAC,IAAI,SAASE,cAAAA,IAAI,uBAAuB,EAAE,IAAI,IAAI;AAAA;AAAA,EAG3D,QAAQ,CAAC,OAAOC,cAAAA,IAAI,uBAAuB,EAAE,EAAE;AAAA;AAAA,EAG/C,UAAU,CAAC,IAAI,SAASH,cAAI,KAAC,uBAAuB,EAAE,aAAa,IAAI;AAAA;AAAA,EAGvE,oBAAoB,CAAC,OAAOG,cAAG,IAAC,uBAAuB,EAAE,WAAW;AAAA;AAAA,EAGpE,UAAU,MAAMF,cAAG,IAAC,yBAAyB;AAAA;AAAA,EAG7C,MAAM,CAAC,OAAOD,cAAI,KAAC,aAAa,EAAE,OAAO;AAAA;AAAA,EAGzC,OAAO,CAAC,OAAOA,cAAI,KAAC,aAAa,EAAE,QAAQ;AAC5C;AAGY,MAAC,UAAU;AAAA;AAAA,EAEtB,YAAY,MAAMC,cAAG,IAAC,eAAe;AAAA;AAAA,EAGrC,eAAe,CAAC,SAASC,kBAAI,iBAAiB,IAAI;AAAA;AAAA,EAGlD,QAAQ,CAAC,UAAUD,kBAAI,kBAAkB,mBAAmB,KAAK,CAAC,EAAE;AAErE;;;;;;"}