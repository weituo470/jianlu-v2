---
inclusion: always
---

# 硬编码管理规则

## 🚨 核心规则

**任何硬编码数据的变量名都必须加上 `-temp` 后缀**

## 📋 适用范围

### 必须使用-temp后缀的情况：

1. **硬编码数组/对象**
   ```javascript
   // ✅ 正确
   const menuItemsTemp = [
       { id: 1, name: '首页' },
       { id: 2, name: '用户管理' }
   ];
   
   // ❌ 错误
   const menuItems = [
       { id: 1, name: '首页' },
       { id: 2, name: '用户管理' }
   ];
   ```

2. **硬编码配置**
   ```javascript
   // ✅ 正确
   const apiEndpointsTemp = {
       users: '/api/users',
       teams: '/api/teams'
   };
   
   // ❌ 错误
   const apiEndpoints = {
       users: '/api/users',
       teams: '/api/teams'
   };
   ```

3. **硬编码选项列表**
   ```javascript
   // ✅ 正确
   const statusOptionsTemp = [
       { value: 'active', label: '活跃' },
       { value: 'inactive', label: '非活跃' }
   ];
   ```

4. **硬编码默认值**
   ```javascript
   // ✅ 正确
   const defaultSettingsTemp = {
       theme: 'light',
       language: 'zh-CN',
       pageSize: 20
   };
   ```

### 不需要-temp后缀的情况：

1. **常量定义**
   ```javascript
   // ✅ 这些是真正的常量，不需要后缀
   const MAX_FILE_SIZE = 10 * 1024 * 1024;
   const DEFAULT_TIMEOUT = 5000;
   const API_VERSION = 'v1';
   ```

2. **枚举值**
   ```javascript
   // ✅ 这些是业务枚举，不需要后缀
   const USER_ROLES = {
       ADMIN: 'admin',
       USER: 'user',
       GUEST: 'guest'
   };
   ```

3. **正则表达式**
   ```javascript
   // ✅ 正则表达式模式，不需要后缀
   const EMAIL_PATTERN = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
   const PHONE_PATTERN = /^1[3-9]\d{9}$/;
   ```

## 🎯 规则目的

### 1. 提高代码可读性
- 一眼就能识别哪些是临时硬编码
- 避免硬编码被误认为正式实现
- 提醒开发者这需要后续改进

### 2. 便于维护和重构
- 可以通过搜索`-temp`快速找到所有硬编码
- 便于批量替换和升级
- 降低遗漏硬编码的风险

### 3. 防止技术债务积累
- 强制开发者意识到这是临时方案
- 促进及时重构和改进
- 避免硬编码长期存在

## 📝 最佳实践

### 1. 添加注释说明
```javascript
// TODO: 将硬编码替换为从API获取的数据
const activityTypesTemp = [
    { value: 'meeting', label: '会议' },
    { value: 'event', label: '活动' },
    { value: 'training', label: '培训' },
    { value: 'other', label: '其他' }
];
```

### 2. 设置重构计划
```javascript
/**
 * 临时硬编码的用户权限配置
 * TODO: 2024年1月前迁移到数据库配置
 * 负责人: 开发团队
 */
const userPermissionsTemp = {
    admin: ['read', 'write', 'delete'],
    user: ['read']
};
```

### 3. 集中管理硬编码
```javascript
// constants/temp-data.js
export const TEMP_DATA = {
    activityTypes: [
        { value: 'meeting', label: '会议' },
        { value: 'event', label: '活动' }
    ],
    
    userRoles: [
        { value: 'admin', label: '管理员' },
        { value: 'user', label: '用户' }
    ]
};
```

## 🔍 检查方法

### 1. 代码审查检查点
- [ ] 所有硬编码数组/对象是否有-temp后缀？
- [ ] 是否添加了TODO注释说明替换计划？
- [ ] 是否有明确的重构时间表？

### 2. 搜索命令
```bash
# 查找所有临时硬编码
grep -r "Temp\s*=" src/
grep -r "temp\s*:" src/

# 查找可能遗漏的硬编码
grep -r "\[\s*{" src/ | grep -v "Temp"
```

### 3. 定期清理
- 每月检查一次所有-temp变量
- 评估哪些可以升级为正式实现
- 删除不再需要的临时硬编码

## ⚠️ 违规后果

### 代码审查不通过
- 发现硬编码没有-temp后缀的代码不能合并
- 必须修改后重新提交审查

### 技术债务积累
- 硬编码容易被遗忘和忽视
- 后期重构成本成倍增加
- 影响系统的可维护性

### 用户体验问题
- 硬编码数据可能与实际需求不符
- 无法适应业务变化
- 功能扩展受限

## 📊 监控指标

### 1. 硬编码数量统计
- 每周统计项目中-temp变量的数量
- 跟踪硬编码的增减趋势
- 设置硬编码数量上限

### 2. 重构进度跟踪
- 记录每个硬编码的创建时间
- 跟踪重构完成情况
- 评估重构效果

## 🎯 最终目标

**零硬编码生产环境**
- 所有数据都来自配置文件、数据库或API
- 系统具有完全的可配置性
- 支持动态更新和扩展

---

**记住：硬编码是技术债务，-temp后缀是我们的提醒机制！**