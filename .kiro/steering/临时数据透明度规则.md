---
inclusion: always
---

# 临时数据透明度规则

## 🚨 核心原则

**任何交付中涉及临时硬编码而不是调用数据库的功能，必须明确标注和说明**

## 📋 强制要求

### 1. 交付文档中必须包含

#### 数据来源明细表
```markdown
## 📊 数据来源明细

| 功能模块 | 数据来源 | 状态 | 说明 |
|---------|---------|------|------|
| 用户登录 | 数据库查询 | ✅ 生产就绪 | 真实用户验证 |
| 活动列表 | 临时硬编码 | ⚠️ 测试数据 | 需要连接数据库 |
| 团队管理 | 临时硬编码 | ⚠️ 测试数据 | 需要连接数据库 |
```

#### 临时数据警告
```markdown
## ⚠️ 临时数据警告

以下功能使用临时硬编码数据，**不是真实的数据库数据**：
- [ ] 活动列表和详情
- [ ] 团队列表和详情  
- [ ] 活动类型数据
- [ ] 团队类型数据

**生产环境使用前必须替换为真实数据库查询！**
```

### 2. 代码中必须标注

#### 变量命名规则
```javascript
// ✅ 正确：明确标识临时数据
const activitiesTemp = [...];
const teamsTemp = [...];

// ❌ 错误：容易误解为正式数据
const activities = [...];
const teams = [...];
```

#### 注释说明
```javascript
// ⚠️ 临时硬编码数据 - 生产环境需要替换为数据库查询
const activitiesTemp = [
  // 测试数据...
];
```

### 3. API响应中标注

```javascript
// 在使用临时数据的API响应中添加警告
return success(res, {
  data: temporaryData,
  _warning: "此数据为临时测试数据，非真实数据库数据"
}, '获取成功');
```

## 🔍 检查清单

### 交付前必须确认

- [ ] 是否明确列出了所有使用临时数据的功能？
- [ ] 是否在文档中用醒目标记标注了临时数据？
- [ ] 是否说明了哪些功能是真正的数据库查询？
- [ ] 是否提供了升级到真实数据的计划？

### 代码审查要点

- [ ] 临时数据变量是否有-temp后缀？
- [ ] 是否有清晰的注释说明？
- [ ] 是否有TODO标记后续改进？

## 📝 标准模板

### 功能交付说明模板

```markdown
## 🎯 功能交付状态

### ✅ 完全实现 (数据库查询)
- 用户登录和认证
- 用户信息获取

### ⚠️ 基础实现 (临时数据)
- 活动管理功能 - 使用硬编码测试数据
- 团队管理功能 - 使用硬编码测试数据
- 类型数据获取 - 使用硬编码测试数据

### 📋 升级计划
1. 连接Activity模型，实现真实活动数据查询
2. 连接Team模型，实现真实团队数据查询
3. 连接ActivityType和TeamType模型
4. 移除所有临时硬编码数据
```

## 🚫 禁止行为

### 绝对不允许
- 在交付说明中模糊描述数据来源
- 将临时数据功能描述为"完全实现"
- 隐瞒或淡化临时数据的使用
- 在生产环境中使用临时硬编码数据

### 必须避免的表述
- ❌ "数据交互完成"
- ❌ "功能正常工作"  
- ❌ "已实现完整功能"
- ✅ "基础功能实现，使用临时测试数据"
- ✅ "功能框架完成，需要连接真实数据"

## 🎯 目标

通过这个规则确保：
1. **透明度** - 用户清楚知道什么是真实数据，什么是测试数据
2. **可靠性** - 避免在生产环境中意外使用临时数据
3. **可维护性** - 清晰的升级路径和改进计划
4. **诚信** - 准确描述交付内容，不夸大功能完成度

---

**建立时间**: 2025-01-12  
**适用范围**: 所有涉及数据查询的功能交付  
**执行级别**: 强制执行